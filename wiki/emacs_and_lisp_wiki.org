#+HTML_HEAD: <link rel="stylesheet" type="text/css" href="http://pengpengxp.github.io/css/wiki.css" />

#+Title: Emacs and Lisp wiki

* æˆ‘çš„emacså­¦ä¹ ç¬”è®° [3/4]
** æ¯æ¬¡å¤šä¸ªæ‰§è¡Œshell-commandæˆ–è€…async-shell-commandéƒ½ä¼šé—®æ˜¯å¦éœ€è¦é‡æ–°å¼€ä¸€ä¸ªbuffer :shell:command:

   å…¶å®å°±æ˜¯æ²¡æ¬¡é»˜è®¤å¼€çš„éƒ½æ˜¯\verb+*Async Shell Command*+è¿™ä¸ªbuffer-nameã€‚
   æˆ‘è‡ªå·±è¿™æ ·å†™ï¼Œæ¯æ¬¡ç”Ÿæˆpeng-async-shell-command-output-å’Œä¸€ä¸ªéšæœºæ•°çš„
   bufferã€‚é¿å…æ¯æ¬¡éƒ½é—®æˆ‘ã€‚è§ä¸‹ï¼š

   *ä¸å®Œç¾çš„*
   --------------------------------------------------------------------------------
   1) æ¯æ¬¡ä½¿ç”¨å®Œåï¼Œè¿™äº›bufferè²Œä¼¼éƒ½æ²¡æœ‰è¢«å…³é—­ï¼Œè¿˜æ˜¯æœ‰å¯èƒ½é‡å¤ã€‚åº”è¯¥è¿˜æœ‰
      å…¶å®ƒè§£å†³åŠæ³•çš„ã€‚
   --------------------------------------------------------------------------------
   #+BEGIN_SRC elisp
  (defun peng-async-shell-command (COM)
    "Run the shell command asynchronize Don't ask me whether to
  create a new buffer just because the default buffer is used.

  For this reason, I create a random output buffer rather than the
  default one every time I launch a shell command.

  The COM is what you want to excute. It MUST be a string."
    (save-window-excursion
      (save-excursion
        (let ((RANDOM-NUM (message "%s" (random 10000))))
        (async-shell-command COM
                             (get-buffer-create 
                              (concat "peng-async-shell-command-output-" RANDOM-NUM)))  
          ))))
   #+END_SRC
** DONE è‡ªå·±æŠŠä¸€äº›emacsæ–‡æ¡£åˆ¶ä½œæˆä¸ºmobiæ ¼å¼æ–¹ä¾¿kindleé˜…è¯»ã€‚
   - State "DONE"       from "TODO"       [2014-10-14 äºŒ 09:24] \\

     ä½¿ç”¨åˆ«äººå†™çš„è„šæœ¬texi2mobiã€‚è°ƒç”¨äº†makeinfoï¼Œdbtoepub,kindlegen.

     å‚è€ƒçš„è¿™é‡Œï¼Œhttps://kanru.info/blog/archives/2010/11/18/convert-texinfo-to-mobi/

     #+BEGIN_VERSE
     Convert Texinfo to MOBI

     Thu, 18 Nov 2010 18:36:26 +0800
     GNU software often comes with a large set of documents in texinfo format, which can be typesetted to a real book. For example the Gnus Manual has over 500 pages, full of fun and humor. Having a mobi version on my Kindle would be quite handy.

     Gnus Manual on Kindle This work involves two parts, first is to convert texinfo to docbook, second is to convert docbook to mobi. In fact the second part could be applied on all docbooks.

     Convert Texinfo to DocBook

     Texinfo has native support of converting texi file to docbook format:

     makeinfo --docbook gnus.texi 
     will output gnus.xml.

     If the texi includes some other texis the the makeinfo command somehow doesn't strip the @setfilename macro from the included file, so cluttered output. Use the following sed script to fix it:

     sed -i -e 's#<para><setfilename>.*</setfilename></para>##' gnus.xml 
     Convert DocBook to MOBI

     Since DocBook 1.74, they included a ruby script dbtoepub to convert xml file to epub format. Then we can use kindlegen or calibre to convert epub to mobi.

     However the docbook xsl produces nested navPoints and <dl> formated TOC. Both aren't handled very well by Kindle.

     So I created a customized layer above the docbook.xsl for mobi creation. This mobi.xsl will flatten the navPoints and use <ul> formated TOC. The output mobi looked very nice on my Kindle.

     All in one script

     Download the texi2mobi.tar.gz, which contains the script and the style sheet used to create mobi friendly epub.

     To use this script you have to install makeinfo, dbtoepub and kindlegen. I use kindlegen here because it creates better mobi at present.

     apt-get install texinfo  
     apt-get install dbtoepub 
     kindlegen could be downloaded form Amazon.

     Untar the tarball then use

     texi2mobi.sh TEXINFO-FILE 
     Create your mobi version! Have fun â˜º
     #+END_VERSE

     ä½¿ç”¨an-introduction-to-programming-in-emacs-lispåšå®éªŒã€‚å®‰è£…å¥½ä¹‹åï¼Œåˆš
     å¼€å§‹å‡ºç°ä¸€ç‚¹bugï¼Œç”¨makeinfoåˆ¶ä½œä¸å‡ºæ¥xmlã€‚ç„¶åæˆ‘ä¿®æ”¹äº†ä¸€ä¸‹texiä¸­çš„æºç 
     çš„å‰é¢è®¾ç½®éƒ¨åˆ†ï¼Œæ„Ÿè§‰åº”è¯¥æ˜¯æ³¨é‡Šæ‰å…¶ä¸­ä¸€äº›å›¾ç‰‡èµ·ä½œç”¨äº†ã€‚ç„¶åmakeinfoæ­¥éª¤
     å°±æ²¡æœ‰é—®é¢˜äº†ã€‚ç„¶åç›´æ¥ä½¿ç”¨å…¶æä¾›çš„è„šæœ¬å°±èƒ½è¿›è¡Œè½¬æ¢äº†ã€‚

     æµç¨‹æ˜¯ï¼šmakeinfoè½¬æ¢æˆxmlã€‚dbtoepubè½¬æ¢ç¨‹epubã€‚kindlegenè½¬æ¢æˆmobiã€‚

     åˆ¶ä½œè¿‡ç¨‹ä¸­å‘ç°ï¼Œä½¿ç”¨makeinfoå¤±è´¥çš„æ—¶å€™ï¼ŒæŠŠtexiæ–‡ä»¶å¼€å¤´çš„setfilename
     ä¸€è¡Œæ³¨é‡Šæ‰å°±è¡Œäº†ã€‚makeinfoèƒ½æˆåŠŸï¼Œåˆ™è„šæœ¬å°±åŸºæœ¬ä¸ä¼šå‡ºç°é—®é¢˜ã€‚

     <2014-10-14 äºŒ 09:24>

** DONE å¯¹emacsçš„kill-ringçš„ç†è§£
   - State "DONE"       from ""           [2014-11-06 å›› 21:16]
   å°±æ˜¯kill-ringå’Œkill-ring-yank-pointerä¸¤ä¸ªsymbolæ‹‰ã€‚symbolå…¶å®å°±æ˜¯æŒ‡é’ˆçš„
   ç»“æ„ä½“ã€‚æœ‰æŒ‡å‘å‡½æ•°çš„æŒ‡é’ˆï¼Œæœ‰æŒ‡å‘å˜é‡çš„æŒ‡é’ˆï¼Œè¿˜æœ‰æŒ‡å‘å˜é‡åå­—ï¼Œå˜é‡
   propertiesçš„æŒ‡é’ˆã€‚è¿™ä¸¤ä¸ªsymboléƒ½æ˜¯æŒ‡å‘å˜é‡çš„æŒ‡é’ˆè¿™åœ¨èµ·ä½œç”¨ã€‚

   <2014-10-30 å›› 11:16>

** DONE ä½¿ç”¨org-modeæ¥ç®¡ç†GTD                                :blog:org:mode:
       - State "DONE"       from "TODO"       [2014-09-24 ä¸‰ 11:48]
         <2014-09-24 ä¸‰ 11:31>
         æ˜¨å¤©ä¸€å¤©é…ç½®ä»¥åï¼ŒåŸºæœ¬å®ç°äº†ç”¨org-modeæ¥ç®¡ç†GTDçš„æƒ³æ³•ã€‚ä½¿ç”¨
         org-captureéšæ—¶æŠ“å–æƒ³æ³•ã€‚ç”¨org-agendaæŸ¥çœ‹æ‰€æœ‰æƒ³æ³•å’Œä»£åŠäº‹é¡¹ã€‚

         é…åˆorg-captureä½¿ç”¨ï¼Œå¯ä»¥éšæ—¶è®°å½•æˆ‘çš„æƒ³æ³•ï¼Œå¾…åšçš„é¡¹ç›®äº†ã€‚æŠŠ\C-c c
         ç»‘å®šåˆ°org-captureä¸Šã€‚å®šä¹‰ä¸€äº›org-capture-templateã€‚å¯ä»¥å¿«é€ŸæŠ“å–æˆ‘
         è‡ªå·±çš„æƒ³æ³•åˆ°æŒ‡å®šçš„æ–‡ä»¶ä¸­ã€‚

         #+BEGIN_SRC lisp
          (define-key global-map (kbd "C-c c") 'org-capture)
          (setq org-capture-templates 
                '(("n" "News" entry (file+datetree (concat GTD "inbox.org"))
                   "*  TODO  %?\n %T")

                  ("t" "Tasks" entry (file+datetree (concat GTD "task.org"))
                   "*  TODO  %?\n %T")

                  ("r" "Notes" entry (file+datetree (concat GTD "note.org"))
                   "*  TODO  %?\n %T")

                  ("p" "Project" entry (file+headline (concat GTD "project.org") "Projects")
                   "*  %?\n")

                  ("a" "Account" table-line (file+headline (concat GTD "account.org.gpg") "Web accounts")
                   "|")

                  ("k" "test" entry (file+datetree "/tmp/test.org" "Tasks")
                   "* TODO  %?  \n %T")
                  ))
         #+END_SRC

         ä½¿ç”¨org-agendaæ¥ç®¡ç†æˆ‘GTDç›®å½•ä¸‹æ‰€æœ‰çš„æ–‡æ¡£ã€‚è®¾ç½®å˜é‡
         org-agenda-filesä¸ºGTDç›®å½•ã€‚å¯ä»¥ä½¿å¾—è¯¥ç›®å½•ä¸‹æ‰€æœ‰çš„orgæ–‡æ¡£å¯¹
         org-agendaéƒ½å¯è§ã€‚æŠŠorg-refile-targetsä¹Ÿè®¾ç½®ä¸ºè¿™ä¸ªç›®å½•ã€‚å°±å¯ä»¥è¯¥ç›®
         å½•ä¸‹è‡ªç”±refileã€‚éå¸¸æ–¹ä¾¿ã€‚

         #+BEGIN_SRC lisp
          (setq org-agenda-files '("~/gtd/"))  
          (setq org-refile-targets (quote ((nil :maxlevel . 9)
                                           (org-agenda-files :maxlevel . 9))))
         #+END_SRC

         åœ¨è®¾ç½®è¿™äº›å˜é‡çš„æ—¶å€™ï¼Œç»‘å®šåˆ°org-mode-hookæœ‰æ—¶å€™ä¸èµ·ä½œç”¨ã€‚æˆ‘è®¤ä¸ºæ˜¯
         åœ¨emacsåˆšå¯åŠ¨æ²¡æœ‰æ‰“å¼€orgæ–‡ä»¶çš„æ—¶å€™ã€‚è¿™ä¸ªhookæ²¡æœ‰è¢«è°ƒç”¨ã€‚å¦‚æœç»‘å®šåœ¨
         è¿™ä¸ªhookä¸Šã€‚å˜é‡æ²¡æœ‰è¢«è®¾ç½®ã€‚è¿™æ—¶å€™org-agendaå°±æ²¡ç”¨äº†ã€‚æœ€åæµ‹è¯•å‡ºæ¥ã€‚
         æˆ‘æŠŠè¿™äº›å˜é‡è®¾ç½®ç»‘å®šåˆ°äº†org-load-hookä¸Šé¢äº†ã€‚åŒæ—¶è®¾ç½®äº†
         org-todo-keywordsè¿™ä¸ªå˜é‡ã€‚å¯ä»¥è‡ªå®šä¹‰äº‹ä»¶ä¸åŒçš„çŠ¶æ€ã€‚
         #+BEGIN_SRC lisp
          (defun peng-org-load ()
            (setq org-directory "~/gtd/")
            (setq org-agenda-files '("~/gtd/"))  
            (setq org-todo-keywords '((sequence "TODO(t!)" 
                                                "NEXT(n)"
                                                "WAITTING(w)"
                                                "SOMEDAY(s)"
                                                "|"
                                                "DONE(d@/!)"
                                                "ABORT(a@/!)")))
            )
          (add-hook 'org-load-hook 'peng-org-load)
         #+END_SRC

** emacsä¸‹å…³çš„ä¸€äº›å­¦ä¹ èµ„æ–™
   çœ‹tuhdoçš„emacs mini manualï¼Œé‡Œé¢æœ‰å†™ å…³äºgtags+semantic ï¼Œ ç›®å‰æœ€å¿«çš„æ–¹æ³•

   å›½å¤–çš„å…ˆä¸ç®—   ä»€ä¹ˆ planet emacs blog ç­‰å»å¤„ç¡®å®ä¸é”™

   ä¸ªäººæ€»ç»“å­¦ä¹  emacs çš„å»å¤„, google è¿™ç§é€šç”¨æœç´¢çš„å°±ä¸è¯´äº†. å¤§å®¶è¿˜æœ‰ä¸é”™çš„æ¬¢è¿åˆ†äº«.

   å›½å†…çš„è´¨é‡ç¡®å®ä¸é«˜, ä¸è¿‡å¯¹è‹±æ–‡æ°´å¹³è¦æ±‚ä½:

   1. emacs@smth  è™½ç„¶æ›´æ–°ä¸å¤š, è¿™é‡Œå‡ºç°è¿‡ä¸å°‘å›½å†… emacs åœˆé‡Œå‰å®³çš„è§’è‰², åŒ…æ‹¬ yas å’Œ ace-jump ä½œè€…ç­‰
   2. ä»¥å‰æœ‰ä¸ª emacser.com , æœ‰è›®ä¹…æ²¡æ›´æ–°äº†, ä¸ªäººçœ‹è€çš„æ–‡ç« è´¨é‡ä¹Ÿä¸€èˆ¬èˆ¬, ä¸è¿‡æ¯”ç™¾åº¦éšä¾¿æœå‡ºæ¥çš„å¥½ç‚¹.

   å›½å¤–(æˆ–è€…å‡†ç¡®çš„è¯´è‹±æ–‡åœˆ)

   1. emacswiki
   2. planet emacsen:  emacs blog 3. reddit çš„ emacs tag 

   ä¸ªåˆ«å•æªåŒ¹é©¬ä½†æ˜¯è‡³å°‘æœ€è¿‘æ›´æ–°è¿˜å¤šçš„; é€šå¸¸ä¹Ÿä¼šå‡ºç°åœ¨ä¸Šé¢çš„ 2 å’Œ 3 é‡Œ, 

   . å°æ¹¾çš„ææ€(äººå®¶ä¸»è¦ç”¨è‹±æ–‡) http://ergoemacs.org/emacs/
   . endlessparentheses http://www.endlessparentheses.com
   . Sacha Chua è²Œä¼¼æ˜¯ä¸œå—äºšçš„å°ç¾å¥³  http://sachachua.com/blog


   <2015-01-14 ä¸‰ 22:27>
** emacsä¸­åˆ¤æ–­ç³»ç»Ÿçš„ç‰ˆæœ¬
   #+BEGIN_SRC emacs-lisp
     ;; check OS type
     (cond
      ((string-equal system-type "windows-nt") ; Microsoft Windows
       (progn
         (message "Microsoft Windows") )
       )
      ((string-equal system-type "darwin")   ; Mac OS X
       (progn
         (message "Mac OS X")
         )
       )
      ((string-equal system-type "gnu/linux") ; linux
       (progn
         (message "Linux") )
       )
      )
   #+END_SRC
** eshell	[0/1] 						     :eshell: 
   :PROPERTIES:
   :CUSTOM_ID: eshell
   :END:
*** è¿›å…¥ä¹‹å‰è¿›å…¥è¿‡çš„æ–‡ä»¶å¤¹
    `cd ='å¯ä»¥æŸ¥çœ‹å†å²æ–‡ä»¶å¤¹ã€‚

    ç„¶åä½¿ç”¨`cd -number'å°±èƒ½è¿›å…¥å¯¹åº”çš„ç›®å½•ã€‚

    ä½¿ç”¨`cd =REGEXP'å¯ä»¥ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ã€‚
*** ä¸ä½¿ç”¨eshellä¸­ç”¨lispç¼–è¯‘çš„å‘½ä»¤
    ä½¿ç”¨lispç¼–è¯‘çš„ç‰ˆæœ¬æ•ˆç‡å®åœ¨å¤ªä½ã€‚åœ¨infoä¸­çœ‹åˆ°å¯ä»¥ä½¿ç”¨*lsæ¥è°ƒç”¨ç³»ç»ŸåŸå§‹çš„åˆä»¤ã€‚å…¶å®ƒä¹Ÿä¸€æ ·ã€‚ [[info:eshell#Built-ins]]
*** ä½¿ç”¨jobsæ§åˆ¶eemacsä¸­çš„å­è¿›ç¨‹
    ä½¿ç”¨jobså¯ä»¥æŸ¥çœ‹emacsä¸­çš„æ‰€æœ‰å­è¿›ç¨‹ã€‚killå¯ä»¥å­è¿›ç¨‹ã€‚killä¸ä»…å¯ä»¥æ¥è¿›ç¨‹idï¼Œè¿˜å¯ä»¥æ¥`project object'ã€‚

    å…¶ä¸­çš„`project object'å¯ä»¥é€šè¿‡`C-c M-i'æŸ¥çœ‹ç„¶åè¿”å›ã€‚è°ƒç”¨çš„æ˜¯`eshell-insert-process'å‡½æ•°ã€‚æˆ‘å°±æ˜¯ä½¿ç”¨è¿™ä¸ªæ–¹æ³•å¹²æ‰äº†ä¸€ä¸ªtrampçš„å­è¿›ç¨‹ã€‚
*** ä¸€äº›æœ‰ç”¨çš„å¿«æ·é”®
    |------------+---------------------------------------------------------|
    | keybinding | description                                             |
    |------------+---------------------------------------------------------|
    | C-c M-b    | æ’å…¥bufferåç§°                                          |
    | C-c M-i    | æ’å…¥å­è¿›ç¨‹åç§°                                          |
    | C-c M-v    | æ’å…¥ç¯å¢ƒå˜é‡å                                          |
    | C-c M-v    | è‹¥ä¸€äº›ç¨‹åºä¸èƒ½æ­£ç¡®å¤„ç†å¸¦ç¼“å†²çš„è¾“å…¥,åˆ™æŒ‰è¿™ä¸ªé”®åºåˆ—åˆ‡æ¢ï¼Ÿ |
    |------------+---------------------------------------------------------|
*** åœ¨eshellä¸­ä½¿ç”¨ =**= ä»£æ›¿ =*=
    eshellåœ¨åªä½¿ç”¨ä¸€ä¸ª =*= çš„æ—¶å€™ä¼šè§¦å‘è‡ªåŠ¨è¡¥å…¨ã€‚æœ€åå‘ç°ä½¿ç”¨ =**= å¯ä»¥è¾¾åˆ°åŸæ¥ä¸€ä¸ª =*= çš„æ•ˆæœã€‚

    *æœ€åå‘ç°ä¸æ˜¯è¿™ä¸ªåŸå› * ï¼šå¯èƒ½æ˜¯company-modeçš„åŸå› ã€‚
*** Eshellä¸­æ‰§è¡Œbashè„šæœ¬ 
    
    æ¯”å¦‚æ‰§è¡Œä¸‹é¢çš„ä»£ç ï¼š
    #+BEGIN_SRC sh
      for i in `ls`;do echo $i;done
    #+END_SRC
    
    ç°åœ¨æˆ‘çš„è§£å†³åŠæ³•æ˜¯ä½¿ç”¨`multi-term'å¼€ä¸€ä¸ª`term'åœ¨é‡Œé¢æ‰§è¡Œã€‚

    éœ€è¦äº†è§£ä¸€ä¸‹`eshell'ä¸­çš„å˜é‡è¿™äº›æ‰å¯ä»¥ã€‚
*** TODO ä¸€äº›æœŸå¾…æ”¹è¿›çš„åŠŸèƒ½ [0/7]
    - [ ] grepå¯ä»¥æ˜¾ç¤ºé¢œè‰²
    - [ ] =*= ä¸å†è‡ªåŠ¨è§¦å‘è¡¥å…¨ã€‚è¿™ä¸ªæ˜¯å› ä¸º`company-mode'
    - [ ] å¾ªç¯è¿˜ä¸æ˜¯å¾ˆä¼š
      #+BEGIN_EXAMPLE
        $ for file in *.org {
          echo "Upcasing: $file"
          mv $file $file(:U)
        }
        I told you the modifiers from the previous section would come in handy.

        I find it interesting to note that *.org gives this for loop a list to iterate over, but if there is more than one argument, a list is created, as in:

        $ for i in 1 2 3 4 {echo $i}
        Passing more than one list flattens them into one list, so the following works as you expect:

        $ for file in emacs* zsh* { ... }

      #+END_EXAMPLE
    - [ ] eshellä¸­çš„`predicate'å’Œ`modifier'è¿™äº›æ¯”è¾ƒæœ‰ç”¨ã€‚å¯ä»¥çœ‹ä¸‹
    - [ ] company-modeæœ‰æ—¶æœ‰ç”¨ï¼Œæœ‰æ—¶åˆæ²¡æœ‰
    - [ ] å‘½ä»¤è¡¥å…¨<TAB>ä¸æ˜¯å¾ˆå¥½ã€‚ä¸æƒ³ç›´æ¥å› è¾“å…¥ç›®å½•åå°±è¿›å…¥ç›®å½•ã€‚ä¸æƒ³è¡¥å…¨ç›®å½•ã€‚
    - [ ] ä½¿ç”¨`helm-esh-pcomplete'è¿˜æœ‰ä¸€ç‚¹é—®é¢˜ï¼šåœ¨`~'ä¸‹`ls'ç„¶å`TAB'åç›´æ¥è¾“å…¥æ˜¯ä¸è¡Œçš„ã€‚å¿…é¡»å…ˆè¾“å…¥å‰å‡ ä¸ªå­—æ¯æ‰è¡Œã€‚è¿˜å¸Œæœ›å¤§å°å†™ä¸æ•æ„Ÿã€‚

** C/C++ IDE							    :ide:C:C:
*** ä½¿ç”¨ecb
    å¯ä»¥æ›´åŠ æ–¹ä¾¿åœ°æµè§ˆä»£ç ã€‚åœ¨`init.el'ä¸­å°†(require 'init-ecb)æ‰“å¼€å°±å¯ä»¥ä½¿ç”¨ã€‚æˆ‘ä½¿ç”¨è¿‡çš„å‡½æ•°å¤§æ¦‚æ˜¯`ecb-expand-method-nodes'å’Œ`ecb-expand-directory-*'å’Œ`ecb-toggle-layout'è¿™äº›ã€‚è¿˜æ²¡æœ‰å¯¹å…¶è¿›è¡Œä»”ç»†åœ°é…ç½®ï¼Œä»¥åç”¨åˆ°å†è¯´ã€‚
*** TODO cedet
    emacs24ä¸­åº”è¯¥æ˜¯å·²ç»é›†æˆäº†ã€‚è¿˜æ²¡æœ‰ä½¿ç”¨åˆ°ã€‚
** é—¹é’Ÿ 							      :alarm:
   :PROPERTIES:
   :wish:     å¯ä»¥å’Œorg-modeä¸­çš„agendaç»“åˆèµ·æ¥æé†’ã€‚å¯ä»¥æ›´åŠ æ™ºèƒ½åœ°æé†’ã€‚
   :END:
   åœ¨macä¸­ï¼Œä½¿ç”¨çš„æ˜¯`terminal-notifier'åšä¸ºè¾“å‡ºã€‚

   æˆ‘ä¿®æ”¹äº†ä¸€ä¸‹`alarm.el'ï¼Œå¦‚ä¸‹ï¼š
   #+BEGIN_SRC elisp
     ;;; alarm.el --- 
     ;; 
     ;; Filename: alarm.el
     ;; 
     ;; Description: ä»ç½‘ä¸Šä¸‹è½½çš„ã€‚æˆ‘ä¿®æ”¹äº†ä¸€ä¸‹ã€‚åœ¨macä¸Šéœ€è¦å®‰è£…`terminal-notifier'æ¥äº§ç”Ÿalarm
     ;; 
     ;; Author: pengpengxp
     ;; Email: pengpengxppri@gmail.com
     ;; Created: äºŒ  3 17 20:43:28 2015 (+0800)
     ;; Version: 
     ;; Last-Updated: 
     ;; 
     ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
     ;; 
     ;;; Code:


     (defvar peng-alarm-clock-timer nil
       "Keep timer so that the user can cancel the alarm.")

     (defun peng-alarm-clock-message (text)
       "The actual alarm action.
     Argument TEXT alarm message."
       (shell-command (format "terminal-notifier -sound default -message \"%s\" " text)))

     ;; (defun peng-alarm-clock ()
     ;;   "Set an alarm.
     ;; The time format is the same accepted by `run-at-time'.  For
     ;; example \"11:30am\"."
     ;;   (interactive)
     ;;   (let ((time (read-string "Time(example, 11:30am): "))
     ;;         (text (read-string "Message: ")))
     ;;     (setq peng-alarm-clock-timer (run-at-time time nil 'peng-alarm-clock-message text))))

     (defun peng-alarm-clock ()
       "Set an alarm.
     The time format is the same accepted by `run-at-time'.  For
     example \"11:30am\"."
       (interactive)
       (let ((time (read-from-minibuffer "Time(example, 11:30am): "
                           (time-stamp-string "%02H:%02M%#p")))
             (text (read-string "Message: ")))
         (setq peng-alarm-clock-timer (run-at-time time nil 'peng-alarm-clock-message text))))

     (defun peng-alarm-clock-cancel ()
       "Cancel the alarm clock."
       (interactive)
       (cancel-timer peng-alarm-clock-timer))

     (provide 'alarm)

     ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
     ;;; alarm.el ends here


   #+END_SRC
   
   åªæ˜¯åšäº†æœ€ç®€å•çš„åŠŸèƒ½ã€‚å…ˆå‡‘åˆç€ä½¿ç”¨å§ã€‚
** ä½¿ç”¨è¿‡trampç¼–è¾‘è¿œç¨‹æ–‡ä»¶åeshellçš„é—®é¢˜
   ä½¿ç”¨è¿‡trampç¼–è¾‘è¿œç¨‹æ–‡ä»¶ä»¥åï¼Œeshellæ¯æ¬¡åˆ‡æ¢ç›®å½•æ—¶å€™éƒ½è‡ªåŠ¨ç™»é™†ï¼Œç„¶åå°±ä¸€ç›´ç­‰å¾…æˆ–æ˜¯æ‰‹åŠ¨`C-g'ã€‚å…¶å®å¯ä»¥åœ¨`~/.emacs.d/eshell/lastdir'ä¸­å°†ä»¥`/ssh'å’Œ`/scp'è¿™äº›å¼€å¤´çš„ç›®å½•åˆ æ‰å°±å¯ä»¥äº†ã€‚è¿™äº›éƒ½æ˜¯é»˜è®¤è¢«è®°å½•ä¸‹æ¥äº†ã€‚

   è¿˜æœ‰æ²¡æœ‰æ›´å¥½ä¸€ç‚¹çš„åŠæ³•ï¼Ÿ
** é‡æ–°å®‰è£…helm							       :helm:
   éœ€è¦åœ¨helm-masterä¸­ä½¿ç”¨makeæ¥ç¼–è¯‘ä¸€ä¸‹æ‰è¡Œã€‚è¿™é‡Œéœ€è¦ç”¨åˆ°`cask'ã€‚åˆ°ç°åœ¨ä¸çŸ¥é“æ˜¯å¹²ä»€ä¹ˆçš„ã€‚

   ä¸­é€”åœ¨`cl-lib'çš„é”™ã€‚æ²¡å¼„æ‡‚ã€‚
** åœ¨emacsä¸­ä½¿ç”¨zsh
   å¯ä»¥é€šè¿‡ä½¿ç”¨`sudo chsh -u pengpengxp -s /bin/zsh'è®¾ç½®é»˜è®¤shellä¸ºzshã€‚

   åœ¨emacsä¸­å¯ä»¥é€šè¿‡multi-termæ¥ä½¿ç”¨zshã€‚

   ä½†æ˜¯åœ¨emacsä¸­zshçš„æç¤ºç¬¦ä¼šé»˜è®¤æœ‰`4m'è¿™äº›ä¹±ä¸ƒå…«ç³Ÿçš„å­—ç¬¦ã€‚å¯ä»¥è¿™æ ·è§£å†³ï¼š

   #+BEGIN_EXAMPLE
     (setq system-uses-terminfo nil)
   #+END_EXAMPLE
   
   ç„¶åè¿›å…¥Emacs.appä¸­çš„`/Contents/Resources/etc/e/'ç›®å½•ã€‚æŒ‰ç…§é‡Œé¢çš„`README'æ‰§è¡Œ`tic -o ../ ./xterm-color.ti'ã€‚
   
   å°±OKå•¦ã€‚
** company-modeè‡ªåŠ¨è¡¥å…¨
*** åŸºæœ¬å†…å®¹
    company-modeå¯ä»¥æœ‰è®¸å¤šçš„backendsã€‚å¯ä»¥æŸ¥çœ‹`company-backends'ã€‚
   
    backendså¯ä»¥å•ç‹¬è°ƒç”¨ï¼Œæ¯”å¦‚å¯ä»¥åœ¨è¾“å…¥äº†`/'åè°ƒç”¨`company-files'å°±å¯ä»¥è¿›è¡Œè¡¥å…¨æ–‡ä»¶åäº†ã€‚
   
    `company-backends'æ˜¯æŒ‰ç…§é¡ºåºè°ƒç”¨çš„ã€‚åŸå§‹çš„å€¼ä¸ºï¼š
    #+BEGIN_EXAMPLE
     (company-bbdb company-nxml company-semantic company-clang company-xcode company-cmake
                   (company-dabbrev-code company-gtags company-etags company-keywords)
                   company-oddmuse company-files company-eclim company-dabbrev
    #+END_EXAMPLE
   
    è¡¥å…¨ä¸åˆé€‚æ—¶ï¼Œå¯ä»¥ä½¿ç”¨`company-other-backend'æ¥è°ƒç”¨ä¸‹ä¸€ä¸ª`backend'ã€‚
   
    backendå¯ä»¥åˆ†ç»„ã€‚ä¸Šé¢åŸå§‹çš„å°±æœ‰ä¸€ä¸ªåˆ†ç»„ï¼Œä¸­é—´çš„é‚£ä¸ªï¼š
    #+BEGIN_EXAMPLE
     (company-dabbrev-code company-gtags company-etags company-keywords)
    #+END_EXAMPLE
   
    å¯ä»¥è‡ªå·±å®šä¹‰åˆ†ç»„æ¥ç”¨ã€‚
*** TODO ä¸åŒçš„modeä½¿ç”¨ä¸åŒçš„backend
** emacsclient
   é»˜è®¤æ˜¯å¼€å¯GUIï¼Œä½¿ç”¨`-nw'å‚æ•°å°±å¯ä»¥åœ¨å½“å‰çš„ttyä¸‹è®¿é—®äº†ã€‚
   
   macä¸‹çš„emacsclientæ˜¯ç³»ç»Ÿé»˜è®¤çš„emacs22çš„ã€‚æˆ‘çš„emacs24ä¸èƒ½ä½¿ç”¨ã€‚ä¸è¿‡ä»æºç å®‰è£…emacsåï¼Œä¼šåœ¨Emacs.appä¸­çš„`Contents/MacOS/bin'ä¸‹ç”Ÿæˆå¯¹åº”çš„emacsclientã€‚æ‹·è´å‡ºæ¥ä½¿ç”¨å®ƒå°±è¡Œå•¦ :-)
** cua-mode
   cua-modeä¸‹å¯ä»¥ç”¨ä»¥ä¸‹å‘½ä»¤è¿›è¡Œåˆ—æ“ä½œï¼š

   |--------------+---------------------------------------------------------------------|
   | ç›´æ¥è¾“å…¥å­—ç¬¦ | åœ¨æ¯è¡Œå‰(æˆ–å)éƒ½æ’å…¥è¿™ä¸ªå­—ç¬¦                                        |
   | [M-a]        | å°†rectä¸­çš„æ–‡å­—å·¦å¯¹é½                                                |
   | [M-b]        | ç”¨ç©ºæ ¼(tabsæˆ–è€…spaces)æ›¿æ¢æ‰€æœ‰rectä¸­çš„å­—ç¬¦                          |
   | [M-c]        | å»æ‰æ‰€æœ‰è¡Œå·¦ä¾§çš„ç©ºæ ¼                                                |
   | [M-f]        | ç”¨å•ä¸ªå­—ç¬¦æ›¿æ¢æ‰€æœ‰rectä¸­çš„å­—ç¬¦(æç¤ºè¾“å…¥ä¸€ä¸ªå­—ç¬¦)                    |
   | [M-i]        | å¯¹æ¯è¡Œä¸­ç¬¬ä¸€ä¸ªæ‰¾åˆ°çš„æ•°å­—è¿›è¡ŒåŠ 1æ“ä½œ(è‡ªåŠ¨æŠŠ0xå¼€å¤´çš„å½“ä½œåå…­è¿›åˆ¶æ•°å­—) |
   | [M-k]        | å‰ªåˆ‡rect                                                            |
   | [M-l]        | æŠŠrectä¸­çš„å†…å®¹å…¨éƒ¨è½¬æ¢ä¸ºå°å†™                                        |
   | [M-m]        | æ‹·è´rect                                                            |
   | [M-n]        | ç”¨ä¸€ä¸²è‡ªå¢çš„æ•°å­—æ›¿æ¢rectä¸­çš„æ¯ä¸€è¡Œ(è¿™ä¸ªåŠŸèƒ½å¯ä»¥ç”¨æ¥ç»™æ¯è¡Œç¼–å·)      |
   | [M-o]        | rectçš„å†…å®¹å³ç§»ï¼Œé€‰ä¸­çš„rectç”¨ç©ºæ ¼å¡«å……                                |
   | [M-r]        | ç”¨å­—ç¬¦ä¸²æ›¿æ¢ç¬¦æ»¡è¶³æ­£åˆ™è¡¨è¾¾å¼çš„å­—ç¬¦ä¸²                                |
   | [M-R]        | ä¸Šä¸‹åè½¬                                                            |
   | [M-s]        | æŠŠrectä¸­çš„æ¯ä¸€è¡Œæ›¿æ¢ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²(æç¤ºè¾“å…¥)                          |
   | [M-t]        | æŠŠrectæ•´ä¸ªæ›¿æ¢ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²(æç¤ºè¾“å…¥)                                |
   | [M-u]        | æŠŠrectä¸­çš„å†…å®¹å…¨éƒ¨è½¬æ¢ä¸ºå¤§å†™                                        |
   | [M-\vert{}]  | å¯¹rectæ‰§è¡Œä¸€ä¸ªshellå‘½ä»¤                                             |
   |--------------+---------------------------------------------------------------------|
** TODO cscope							     :cscope:
   cscopeæ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ç¨‹åºï¼Œä¹Ÿå¯ä»¥åœ¨emacsä¸­ä½¿ç”¨ã€‚å®‰è£…è¿‡ç¨‹ä¸è¯´äº†ã€‚ä¸‹è½½æ”¾å…¥åŠ è½½å°±è¡Œäº†ã€‚
   
   emacsä¸­åŠ å…¥å¯¹åº”çš„.elæ–‡ä»¶åï¼Œæœ‰ä¸€ä¸ªcscope-indexerçš„ç¨‹åºéœ€è¦ä»æºæ–‡ä»¶ä¸­å–å‡ºæ¥æ”¾åˆ°`PATH'ä¸­å¹¶è®¾ç½®ä¸ºå¯æ‰§è¡Œã€‚è¿™æ˜¯ä¸ºcscopeåˆ¶åšindexç”¨çš„ã€‚

   è¯´ä¸‹æ€ä¹ˆä½¿ç”¨ï¼š
   
   #+BEGIN_EXAMPLE
     é»˜è®¤æ˜¯çš„å¿«æ·é”®éƒ½æ˜¯ç»‘å®šåˆ° C-c s çš„å‰ç¼€ä¸Šé¢ï¼Œå¦‚æœå«Œéº»çƒ¦çš„è¯å¯ä»¥è‡ªå·±æ›´æ”¹ å¿«æ·é”®ç»‘å®šã€‚è¿™æ˜¯é»˜è®¤çš„ç”¨äºæŸ¥æ‰¾çš„é”®ç»‘å®šï¼š

     C-c s s         Find symbol.
     C-c s d         Find global definition.
     C-c s g         Find global definition (alternate binding).
     C-c s G         Find global definition without prompting.
     C-c s c         Find functions calling a function.
     C-c s C         Find called functions (list functions called
                     from a function).
     C-c s t         Find text string.
     C-c s e         Find egrep pattern.
     C-c s f         Find a file.
     C-c s i         Find files #including a file.
     ä¸‹é¢æ˜¯åœ¨æœç´¢åˆ°çš„ç»“æœä¹‹é—´åˆ‡æ¢ç”¨çš„å¿«æ·é”®ï¼š

     C-c s b         Display *cscope* buffer.
     C-c s B         Auto display *cscope* buffer toggle.
     C-c s n         Next symbol.
     C-c s N         Next file.
     C-c s p         Previous symbol.
     C-c s P         Previous file.
     C-c s u         Pop mark.
     æ›´è¯¦ç»†çš„ä½¿ç”¨è¯´æ˜è¯·å‚è§ xcscope.el æ–‡ä»¶å¤´éƒ¨çš„æ³¨é‡Šã€‚  
   #+END_EXAMPLE

   å¦‚æœåªåœ¨ä¸€ä¸ªç›®å½•ä¸‹ç”¨ï¼Œè²Œä¼¼å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œå¦‚æœä¸è¡Œï¼Œä½¿ç”¨`C-c s I'é‡æ–°åšä¸‹ç´¢å¼•ã€‚è¿™æ—¶å°±ä¼šè°ƒç”¨`cscope-indexer'è¿™ä¸ªè„šæœ¬ã€‚ä¹‹å‰éœ€è¦é…ç½®å¥½ã€‚
   
   ä¸€èˆ¬å°±"C-c s s"å°±è¡Œäº†ã€‚ç„¶å`C-c s B'å¯ä»¥è®¾ç½®æ¯æ¬¡æŸ¥è¯¢çš„æ—¶å€™è°ƒå‡º`cscope-buffer'ä¸ã€‚å¦‚æœä¸è°ƒå‡ºã€‚å°±è‡ªåŠ¨è·³è½¬åˆ°æŸ¥è¯¢åˆ°çš„ç¬¬ä¸€ä¸ªä¸­å»ã€‚å¦‚æœäº›æ—¶æ²¡æœ‰åˆ°ä½ï¼Œå¯ä»¥ä½¿ç”¨`C-c s n'æŸ¥çœ‹ä¸‹ä¸€ä¸ªã€‚æœ€åæŸ¥åˆ°äº†ä»¥åä½¿ç”¨`C-c s u'å¯ä»¥è·³è½¬åˆ°ä¹‹å‰çš„ä½ç½®ã€‚
   
   ç°åœ¨åªæ˜¯é…ç½®äº†Cè¯­è¨€çš„cscopeã€‚æ€ä¹ˆè®¾ç½®elispè¿™äº›å‘¢ï¼Ÿ
   
   å¯ä»¥åœ¨shellä¸­è¿™æ ·ä½¿ç”¨ï¼š
   
   é¦–å…ˆä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤åšä¸€ä¸ª`cscope.files'æ–‡ä»¶å‡ºæ¥ï¼š
   #+BEGIN_SRC sh
     find -type f -name "*.el" > cscope.files
   #+END_SRC
   
   ç„¶åä½¿ç”¨`cscope -b'æ›´æ–°ä¸€ä¸‹æ•°æ®åº“å°±è¡Œäº†ã€‚

   emacsä¸­è¿˜æ²¡æœ‰æ‰¾åˆ°æ–¹æ³•ã€‚

* æˆ‘çš„lispå­¦ä¹ ç¬”è®°
** DONE schemeä¸­çš„define                                            :scheme:
   - State "DONE"       from "TODO"       [2014-11-15 å…­ 10:30] \\
     #+begin_src scheme
       (define peng
         (lambda (amount)
           ...))
     #+end_src
     è¿™æ˜¯å®šä¹‰äº†ä¸€ä¸ªsymbolï¼Œå…¶ä¸­çš„å‡½æ•°æŒ‡é’ˆæŒ‡å‘äº†lambdaæ„é€ çš„é‚£ä¸ªå‡½æ•°çš„å¼€å¤´ã€‚

     #+begin_src scheme
       (define (peng)
         (...))
     #+end_src
     è¿™æ˜¯å®šä¹‰äº†ä¸€ä¸ªæ— å‚å‡½æ•°ã€‚

     è¿™ä¸¤ä¸ªæ˜¯æœ‰åŒºåˆ«çš„ã€‚
     <2014-11-15 å…­ 10:30>

   # 
   # æˆ‘çš„lispå­¦ä¹ ç¬”è®°.org ends here

   # 
   # æˆ‘çš„emacså’Œlispå­¦ä¹ ç¬”è®°.org ends here
** å†™ä¸€ä¸ªè‡ªåŠ¨è½¬æ¢orgåˆ°pdfçš„è„šæœ¬ã€‚[[http://stackoverflow.com/questions/22072773/batch-export-of-org-mode-files-from-the-command-line][è¿™é‡Œ]] å¯ä»¥çœ‹çœ‹ã€‚æˆ‘æ˜¯æƒ³æ‰¹é‡è½¬æ¢æˆ‘çš„orgæ–‡ä»¶ã€‚ :notperfect:

   emacsçš„batch-modeå¯ä»¥çœ‹çœ‹ã€‚

   æƒ³æŠŠéœ€è¦åŒæ­¥çš„æ–‡æ¡£è‡ªåŠ¨è½¬æ¢ä¸ºpdfã€‚å¯ä»¥ç›´æ¥åœ¨emacsä¸­å®ç°ç½—ã€‚æŸ¥çœ‹elispã€‚ç”¨elispæ¥å†™ä¸€ä¸ªã€‚

   æœ€åå¾—åˆ°äº†ä¸€ä¸ªè¿™æ ·çš„å‡½æ•°ï¼Œå¯ä»¥æš‚æ—¶åœ¨emacsä¸­ä½¿ç”¨ç€ï¼š
   #+BEGIN_SRC emacs-lisp
  (defun peng-dired-org-to-pdf ()
    "convert the marked org files to pdf in dired-mode.
  otherwise,you need to input a directory name. this function will
  try to convert all of the org files in the directory you just
  type to pdf automatically"
    (interactive)
    (let ((files
           (if (eq major-mode 'dired-mode)
               (dired-get-marked-files)
             (let ((default-directory (read-directory-name "dir: ")))
               (mapcar #'expand-file-name 
                       (file-expand-wildcards "*.org"))))))
      ;; (message "%s" files)
      (mapc
       (lambda (f)
         (with-current-buffer
             (find-file-noselect f)
           (org-latex-export-to-pdf)))
       files)
      ))

   #+END_SRC
 
   <2015-01-12 ä¸€ 10:34>
** copy-keymap
   æƒ³è¦ä¿å­˜ä¸€ä¸ªkeymapä¸èƒ½ç®€å•çš„ä½¿ç”¨setqï¼š
   #+BEGIN_SRC elisp
     (setq save-map some-map)
   #+END_SRC
   è¿™æ ·åªèƒ½æ˜¯ä¸€ä¸ªsymbolï¼Œç±»ä¼¼äºCä¸­çš„æŒ‡é’ˆï¼Œsome-mapæ”¹å˜äº†ï¼Œsave-mapä¹Ÿä¼š
   å˜ã€‚åº”è¯¥ä½¿ç”¨copy-keymapï¼š
   #+BEGIN_SRC elisp
     (setq save-map (copy-keymap some-map))
   #+END_SRC
** å…¶å®ƒç¬”è®°
   æ®è¯´lispçš„å®åœ¨æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªç”±ç¼–è¯‘å™¨è‡ªåŠ¨ä¸ºä½ åŠ¨è¡Œçš„ä»£ç ç”Ÿæˆå™¨ã€‚
   
   ä¸€ä¸ªç®€å•çš„common lispå®çš„ä¾‹å­ï¼š
   #+BEGIN_SRC lisp
  (defmacro backwards (argu)
    (reverse argu))
  (backwards ("xiepeng" t format))
   #+END_SRC
   è¿™æ ·å°±å®šä¹‰äº†åè¿‡æ¥çš„formatäº†ã€‚

* æˆ‘çš„emacsä¹ æƒ¯
** æ’ä»¶
   |--------------------+--------+-------------------------------------|
   | åç§°               | çŠ¶æ€   | å¤‡æ³¨                                |
   |--------------------+--------+-------------------------------------|
   | 2048-game          | å·²å®‰è£… |                                     |
   | ace-jump-buffer    | å·²å®‰è£… |                                     |
   | ace-jump-helm-line | å·²å®‰è£… |                                     |
   | ace-jump-mode      | å·²å®‰è£… |                                     |
   | ace-jump-zap       | å·²å®‰è£… |                                     |
   | ace-pinyin         | å·²å®‰è£… |                                     |
   | ace-window         | å·²å®‰è£… |                                     |
   | alert              | å·²å®‰è£… |                                     |
   | applescript-mode   | å·²å®‰è£… |                                     |
   | async              | å·²å®‰è£… |                                     |
   | bibtex-utils       | å·²å®‰è£… |                                     |
   | command-log-mode   | å·²å®‰è£… |                                     |
   | darkroom           | å·²å®‰è£… |                                     |
   | dash               | å·²å®‰è£… |                                     |
   | f                  | å·²å®‰è£… |                                     |
   | flx                | å·²å®‰è£… |                                     |
   | gntp               | å·²å®‰è£… |                                     |
   | helm               | å·²å®‰è£… |                                     |
   | helm-ag            | å·²å®‰è£… |                                     |
   | helm-bibtex        | å·²å®‰è£… |                                     |
   | helm-bibtexkey     | å·²å®‰è£… |                                     |
   | helm-c-yasnippet   | å·²å®‰è£… |                                     |
   | helm-swoop         | å·²å®‰è£… |                                     |
   | icicles            | å·²å®‰è£… |                                     |
   | ido-better-flex    | å·²å®‰è£… |                                     |
   | ido-ubiquitous     | å·²å®‰è£… |                                     |
   | ido-vertical-mode  | å·²å®‰è£… |                                     |
   | idomenu            | å·²å®‰è£… |                                     |
   | list-utils         | å·²å®‰è£… |                                     |
   | log4e              | å·²å®‰è£… |                                     |
   | makey              | å·²å®‰è£… |                                     |
   | mark-tools         | å·²å®‰è£… |                                     |
   | markdown-mode      | å·²å®‰è£… |                                     |
   | markdown-mode+     | å·²å®‰è£… |                                     |
   | noflet             | å·²å®‰è£… |                                     |
   | org                | å·²å®‰è£… |                                     |
   | org-mac-iCal       | å·²å®‰è£… |                                     |
   | org-mac-link       | å·²å®‰è£… |                                     |
   | org-pomodoro       | å·²å®‰è£… |                                     |
   | org-screenshot     | å·²å®‰è£… |                                     |
   | org-tree-slide     | å·²å®‰è£… |                                     |
   | ox-html5slide      | å·²å®‰è£… |                                     |
   | ox-ioslide         | å·²å®‰è£… |                                     |
   | parsebib           | å·²å®‰è£… |                                     |
   | pcache             | å·²å®‰è£… |                                     |
   | persistent-soft    | å·²å®‰è£… |                                     |
   | rw-ispell          | å·²å®‰è£… |                                     |
   | s                  | å·²å®‰è£… |                                     |
   | shadchen           | å·²å®‰è£… |                                     |
   | showkey            | å·²å®‰è£… |                                     |
   | smex               | å·²å®‰è£… |                                     |
   | swiper             | å·²å®‰è£… |                                     |
   | swiper-helm        | å·²å®‰è£… |                                     |
   | yasnippet          | å·²å®‰è£… |                                     |
   |--------------------+--------+-------------------------------------|
   | ebib               | å¾…å®‰è£… | æ®è¯´æ˜¯ä¸€ä¸ªemacsä¸­çš„å‚è€ƒæ–‡çŒ®ç®¡ç†å™¨   |
   | eyebrowse          | å¾…å®‰è£… | å¯ä»¥æ§åˆ¶windowsï¼Œç­‰æˆ‘æ¢äº†å¤§å±ä»¥åå§ |
   | workgroup2         | å¾…å®‰è£… | å’Œeyebrowseå¯èƒ½å·®ä¸å¤šã€‚             |
   |--------------------+--------+-------------------------------------|

* config irony-mode
  1) down source code;
  2) put it into your load-path
  3) (require 'irony)
  4) M-x irony-install-server.[fn:1:Maybe it will fail. You can copy
     the command to the terminal and run it by yourself.]
     #+BEGIN_SRC sh
       cmake -DCMAKE_INSTALL_PREFIX\=/Users/pengpengxp/.emacs.d/irony/ /Users/pengpengxp/.emacs.d/site-lisp/irony-mode-master/server && cmake --build . --use-stderr --config Release --target install
     #+END_SRC
  5) manual run will make a bin/irony-server at ~/.emacs.d/site-lisp/,
     make a directory ~/.emacs.d/irony and then move the bin directory
     in it so that irony can user it:
     #+BEGIN_SRC sh
       mkdir ~/.emacs.d/irony/
       mv ~/.emacs.d/site-lisp/bin ~/.emacs.d/irony/
     #+END_SRC
  6) wirte a .clang_complete file at the root path of your
     project. These are all argument compiler use when compiling the
     projectExample .clang_complete file:
     #+BEGIN_EXAMPLE
       -DDEBUG
       -include ../config.h
       -I../common
       -I/usr/include/c++/4.5.3/
       -I/usr/include/c++/4.5.3/x86_64-slackware-linux/
     #+END_EXAMPLE
  7) And then, it work.

* config ycmd
  1) git clone XXX
  2) git submodule update --init --recursive
  3) ./build.py --all
  4) download emacs-ycmd and load it.
  5) configure it:
     #+BEGIN_SRC lisp
       (set-variable 'ycmd-server-command '("python" "/Users/pengpengxp/github/ycmd/ycmd"))
       (set-variable 'ycmd-global-config "/Users/pengpengxp/github/ycmd/ycmd/completers/cpp/clang_completer.py")
       (require 'company-ycmd)
       (company-ycmd-setup)
     #+END_SRC
** config ycm for my own project:
   + need to write .ycm_extra_conf.py files to tell ycm where the
     include file and compile flags.
   + use [[https://github.com/rdnetto/YCM-Generator][ycm-generator]] is a easy way to generate the
     .ycm_extra_conf.py file.
     #+BEGIN_SRC sh
       ./config_gen.py -x c++ ~/src/ASP-Engine/core/src
     #+END_SRC

   + and then, Ycm can see the include files.

   + set `ycmd-global-config' for a global config
     #+BEGIN_SRC sh
       (set-variable 'ycmd-global-config "/Users/pengpengxp/src/ASP-Engine/.ycm_extra_conf.py")
     #+END_SRC
** ç¼–è¯‘ycmdæ—¶å¯èƒ½å‡ºé”™
   ç¬¬ä¸€æ¬¡ç¼–è¯‘æ—¶ï¼Œéœ€è¦æ›´æ–°åˆ°æœ€æ–°ï¼Œç„¶åæŠŠgitå­æ¨¡å—ä¹Ÿæ›´æ–°åˆ°æœ€æ–°ã€‚
   #+BEGIN_SRC sh
     git pull
     git submodule update --init --recusive
   #+END_SRC
   
   ç„¶åç›´æ¥æ‰§è¡Œ =./build.py --all= å°±å¯ä»¥äº†ã€‚è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œç¼–è¯‘è„šæœ¬éœ€è¦
   å»ä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„clangã€‚éœ€è¦ç­‰ä¸€æ®µæ—¶é—´ã€‚
   
   åé¢å‘ç°ï¼Œå¦‚æœç¬¬äºŒæ¬¡ç¼–è¯‘ï¼Œå¯èƒ½å¤±è´¥ï¼Œå‡ºç°é”™è¯¯ï¼š
   #+BEGIN_EXAMPLE
     Error: could not load cache
   #+END_EXAMPLE
   
   è¿™ç§æƒ…å†µä¸‹ï¼Œéœ€è¦æŠŠ =cpp= ç›®å½•ä¸­çš„ =CMakeCache.txt= æ–‡ä»¶åˆ æ‰ã€‚è¿™æ—¶å†
   é‡è¯•å°±å¯ä»¥äº†ã€‚
   
   æœ€åå°±æ˜¯æ¼«é•¿çš„ç­‰å¾…ã€‚

   =./build.py --clang-completer= ä¼šä¸‹è½½clangç¼–è¯‘å™¨åˆ° =clang_archives=
   ç›®å½•ã€‚åŒæ—¶ç¼–è¯‘ =C-family= çš„è¡¥å…¨ã€‚

   ä¸è¿‡ä¸‹è½½clangç¼–è¯‘å™¨çœŸçš„æ—¶å¤ªæ…¢å•¦ã€‚æˆ‘æ˜¯å»äº‘ä¸»æœºä¸Šä½¿ç”¨wgetä¸‹è½½çš„ã€‚
   #+BEGIN_EXAMPLE
     wget http://releases.llvm.org/4.0.1/clang+llvm-4.0.1-x86_64-apple-darwin.tar.xz
   #+END_EXAMPLE
   
   ä¸‹è½½å¥½åï¼Œç›´æ¥æ”¾åˆ°ycmdçš„ =clang_archives= ç›®å½•ä¸‹ã€‚ç„¶åç›´æ¥
   =./build.py --clang-completer= å°±å¯ä»¥ç¼–å‡ºæ¥å¯¹ =c-family= è¯­è¨€çš„è¡¥å…¨ã€‚
** ycmdä»‹ç»
   å®ƒæœ¬æ¥æ˜¯vimä¸Šçš„æ’ä»¶ =YouCompleteMe= ã€‚ç°åœ¨æ•´æˆäº†ä¸€ä¸ªé€šç”¨çš„ã€‚

   å¯ä»¥è¡¥å…¨å¾ˆå¤šè¯­è¨€ï¼š =C,C++,C#,python,js,go= ç­‰ã€‚

   å®ƒå¯ä»¥æ˜¯åŸºäºè¯­ä¹‰çš„å’Œä¸åŸºäºè¯­è¨€çš„ã€‚æ ¹æ®ä¸åŒçš„è¯­è¨€ï¼ŒæŠŠä¸¤ç§çš„ç»“æœéƒ½æ±‡
   æ€»åä¸€èµ·è¿”å›ã€‚ =C-family= çš„åŸºäºè¯­è¨€è¡¥å…¨åŠŸèƒ½éœ€è¦ =libclang= ï¼Œå®ƒæ˜¯
   ç¼–è¯‘å™¨clangçš„libaryï¼Œä¸€èˆ¬ä¹Ÿå«llvmã€‚

   ä½¿ç”¨libclangçš„æ—¶å€™ï¼Œå®ƒéœ€è¦çŸ¥é“ç¼–è¯‘æ—¶æä¾›çš„ç¼–è¯‘å‚æ•°ã€‚è¿™æ ·libclangæ‰
   èƒ½åˆ†æä»£ç ï¼Œycmdæ‰èƒ½æä¾› =c-family= åŸºäºè¯­è¨€çš„è¡¥å…¨ã€‚æœ‰ä¸¤ç§æ–¹å¼å¯ä»¥
   å¾—åˆ°ç¼–è¯‘é€‰é¡¹ï¼š
   1. ç¼–è¯‘æ•°æ®åº“ï¼ˆcompilation databaseï¼‰ï¼šè¿™æ˜¯æœ€ç®€å•çš„ä¸€ä¸ªæ–¹å¼ï¼Œæœ‰äº›ç¼–
      è¯‘ç³»ç»Ÿå¦‚cmakeï¼Œå®ƒåœ¨ç¼–è¯‘æ—¶ä¼šè‡ªåŠ¨ç”Ÿæˆç¼–è¯‘æ•°æ®åº“ã€‚ä»¥ä¸‹å‡ ç§æ–¹å¼éƒ½å¯ä»¥ï¼š
      1. If using CMake, add -DCMAKE_EXPORT_COMPILE_COMMANDS=ON when
         configuring (or add set( CMAKE_EXPORT_COMPILE_COMMANDS ON )
         to CMakeLists.txt) and copy or symlink the generated database
         to the root of your project.
      2. If using Ninja, check out the compdb tool (-t compdb) in its
         docs.
      3. If using GNU make, check out Bear.
      4. For other build systems, check out .ycm_extra_conf.py
         below.è¿™åé¢è¿˜æœ‰è¿™æ ·ä¸€æ®µï¼š
         #+BEGIN_EXAMPLE
           If no .ycm_extra_conf.py is found, and no ycm_global_ycm_extra_conf
           is configured, YouCompleteMe automatically tries to load a
           compilation database if one is found.

           YCM looks for a file named compile_commands.json in the directory of
           the opened file or in any directory above it in the hierarchy
           (recursively); when the file is found, it is loaded. YouCompleteMe
           performs the following lookups when extracting flags for a particular
           file:

             ,* If the database contains an entry for the file, the flags for
               that file are used.
             ,* If the file is a header file and a source file with the same root
               exists in the database, the flags for the source file are used.
               For example, if the file is /home/Test/project/src/lib/
               something.h and the database contains an entry for /home/Test/
               project/src/lib/something.cc, then the flags for /home/Test/
               project/src/lib/something.cc are used.
             ,* Otherwise, if any flags have been returned from the directory
               containing the requested file, those flags are used. This
               heuristic is intended to provide potentially working flags for
               newly created files.

           Finally, YCM converts any relative paths in the extracted flags to
           absolute paths. This ensures that compilation can be performed from
           any Vim working directory.
         #+END_EXAMPLE
   2. æ‰‹åŠ¨æä¾›ç¼–è¯‘é€‰é¡¹
** build.pyé€‰é¡¹
   ä½¿ç”¨ =./build.py --help= æŸ¥çœ‹ä¸€ä¸‹ï¼š
   #+BEGIN_EXAMPLE
     (python3) ï£¿ ~/github/ycmd/ [master] ./build.py --help
     usage: build.py [-h] [--clang-completer] [--system-libclang]
                     [--omnisharp-completer] [--gocode-completer]
                     [--racer-completer] [--system-boost] [--msvc {12,14,15}]
                     [--tern-completer] [--all] [--enable-coverage]
                     [--enable-debug] [--build-dir BUILD_DIR]

     optional arguments:
       -h, --help            show this help message and exit
       --clang-completer     Build C-family semantic completion engine.
       --system-libclang     Use system libclang instead of downloading one from
                             llvm.org. NOT RECOMMENDED OR SUPPORTED!
       --omnisharp-completer
                             Build C# semantic completion engine.
       --gocode-completer    Build Go semantic completion engine.
       --racer-completer     Build rust semantic completion engine.
       --system-boost        Use the system boost instead of bundled one. NOT
                             RECOMMENDED OR SUPPORTED!
       --msvc {12,14,15}     Choose the Microsoft Visual Studio version (default:
                             15).
       --tern-completer      Enable tern javascript completer
       --all                 Enable all supported completers
       --enable-coverage     For developers: Enable gcov coverage for the c++
                             module
       --enable-debug        For developers: build ycm_core library with debug
                             symbols
       --build-dir BUILD_DIR
                             For developers: perform the build in the specified
                             directory, and do not delete the build output. This is
                             useful for incremental builds, and required for
                             coverage data
   #+END_EXAMPLE
   + =--clang-completer= å¯ä»¥ç¼–è¯‘ =c-family= è¯­è¨€çš„è¡¥å…¨ã€‚å®ƒä¼šä¸‹è½½å®ƒéœ€
     è¦çš„libclangåˆ° =clang_archives= ç›®å½•ã€‚å¦‚æœä½ å­¦å¾—ä¸‹è½½é€Ÿåº¦å¤ªæ…¢ï¼Œä¹Ÿ
     å¯è‡ªå·±ä¸‹è½½æ”¾è¿›å»
   + =--omnisharp-completer= å¯¹ =C#= 
   + =--gocode-completer= å¯¹ =go= 
   + ...
** emacs-ycmd
   åœ¨emacsä¸­ä½¿ç”¨ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ =emacs-ycmd= è¿™ä¸ªæ’ä»¶ã€‚

* elpy for python
  ç›´æ¥ä½¿ç”¨å®˜ç½‘æ•™ç¨‹ï¼Œå…ˆä½¿ç”¨pipæŠŠéœ€è¦çš„ç¬¬ä¸‰æ–¹å·¥å…·å®‰è£…å¥½ï¼Œç„¶åä½¿ç”¨package
  æ¥å®‰è£…å°±OKäº†ã€‚

  æˆ‘çš„ä¸ªäººé…ç½®å¦‚ä¸‹ï¼š
  #+BEGIN_SRC lisp
    (setq peng-python-map (make-sparse-keymap))
    (define-key peng-python-map (kbd  "RET") 'elpy-shell-send-current-statement)
    (define-key peng-python-map (kbd  "s") 'elpy-rgrep-symbol)
    (define-key peng-python-map (kbd  "d") 'elpy-goto-definition)
    (define-key peng-python-map (kbd  "a") 'elpy-set-project-root)
    (define-key peng-python-map (kbd  "f") 'elpy-find-file)
    (define-key peng-python-map (kbd  "t") 'pop-tag-mark)

    (defun peng-python-mode ()
      (define-key evil-normal-state-local-map (kbd "SPC z") 'peng-run-current-script)
      (autopair-on)
      (smart-tab-mode-off)
      (peng-local-set-key (kbd "C-c C-v") 'peng-run-current-script)
      ;; (company-mode)
      (elpy-enable)
      (define-key evil-normal-state-local-map (kbd "SPC c") peng-python-map)
      (define-key evil-normal-state-local-map (kbd "SPC m") peng-python-map)
      (peng-local-set-key (kbd "<C-right>") 'elpy-nav-forward-indent)
      (peng-local-set-key (kbd "<C-left>") 'elpy-nav-backward-indent)
      (peng-local-set-key (kbd "<C-down>") 'elpy-nav-forward-block)
      (peng-local-set-key (kbd "<C-up>") 'elpy-nav-backward-block))

    (add-hook 'python-mode-hook 'peng-python-mode)
    ;; (setq elpy-project-ignored-directories '(".bzr" "CVS" ".git" ".hg" ".svn" ".tox" "build" "dist" ".cask"))

    (provide 'init-python)
  #+END_SRC

* ä½¿ç”¨emacsåŠ å¯†æ–‡ä»¶
  
  ä¿®æ”¹å¥½æ–‡ä»¶åï¼Œä½¿ç”¨ `epa-encrypt-file'å°±å¯ä»¥åŠ å¯†ã€‚é»˜è®¤åŠ å¯†å®Œæˆåï¼Œä¼š
  ç”Ÿæˆ.gpgç»“å°¾çš„åŠ å¯†æ–‡ä»¶ã€‚åŸå§‹æ–‡ä»¶è¿˜æ˜¯éåŠ å¯†çŠ¶æ€ã€‚å¦‚æœæ–‡ä»¶æœ¬èº«å°±æ˜¯
  ä»¥.gpgç»“å°¾ï¼Œåˆ™ä¸ä¼šå†æ–°å»ºæ–‡ä»¶ï¼Œæœ¬æ–‡ä»¶å·²è¢«åŠ å¯†ã€‚

  è¿˜å¯ä»¥åŠ å¯†ä¸€ä¸ªåŒºåŸŸï¼Œç°åœ¨ä¸å¤ªéœ€è¦ã€‚
* use of markdown-mode
  markdown #1 ### ä½¿ç”¨ ###

  ç°åœ¨ç”¨ Emacs å†™åšæ–‡çœŸæ˜¯ä¸€ç§äº«å—ã€‚ä¼š Emacs çš„äººä¼šå‘ç°ï¼Œä¸‹é¢æåˆ°çš„å¤šæ•°
  å¿«æ·é”®å’Œ Emacs çš„åŸºç¡€å¿«æ·é”®ç›¸å…³ï¼Œæˆ‘åªåˆ—å‡ºå¸¸ç”¨çš„ï¼š

  åœ¨ Emacs ä¸­é¢„è§ˆç»“æœ C-c C-c. ä½¿ç”¨è¯¥åŠŸèƒ½çš„å‰ææ˜¯ç³»ç»Ÿä¸­æœ‰å°† Markdown
  æ–‡æœ¬è½¬åŒ–ä¸º HTML çš„ Markdown å‘½ä»¤ã€‚å¦‚ä½•é…ç½®ï¼Ÿè¯·çœ‹è¿™ç¯‡åšæ–‡ã€‚

  + C-c C-c m è½¬åŒ–ä¸º HTMLï¼Œåœ¨å¦ä¸€ä¸ª buffer ä¸­é¢„è§ˆ HTML æ–‡ä»¶ï¼Œä¸ªäººè§‰å¾—
    æ²¡å¤ªå¤§æ„ä¹‰
  + C-c C-c p è½¬åŒ–ä¸º HTMLï¼Œåœ¨æµè§ˆå™¨ä¸­é¢„è§ˆ
  + C-c C-c e è½¬åŒ–ä¸º HTMLï¼Œä¿å­˜ä¸ºæ–‡ä»¶
  + C-c C-c v è½¬åŒ–ä¸º HTMLï¼Œä¿å­˜ä¸ºæ–‡ä»¶ï¼Œå¹¶åœ¨æµè§ˆå™¨ä¸­é¢„è§ˆ

  è¶…é“¾æ¥ Hyperlinks C-c C-a

  + C-c C-a l æ’å…¥[]()å½¢å¼çš„é“¾æ¥ï¼ŒC-c C-a L æ’å…¥ [LinkText][Label] å½¢
    å¼çš„é“¾æ¥ã€‚åœ¨è¿™ç§å½¢å¼ä¸‹ï¼Œå¦‚æœå…‰æ ‡é™„è¿‘æœ‰æ–‡å­—æˆ–æ˜¯ Active Regionï¼Œä¼šè‡ª
    åŠ¨è¢«é€‰æ‹©å½“ä½œ LinkTextã€‚åä¸€ç§å½¢å¼ä¼šæç¤ºä½ åœ¨ Minibuffer ä¸­è¾“å…¥
    LinkTextï¼ŒLinkLabel å’Œå¯é€‰çš„ LinkTitleã€‚ å›¾ç‰‡ Images C-a C-i

  C-c C-i i å’Œ C-c C-i Iï¼Œä¸¤è€…çš„åŒºåˆ«å’Œè¶…é“¾æ¥çš„ç±»ä¼¼ã€‚

  æ ·å¼ Styles C-a C-s

  C-c C-s e æ’å…¥æ–œä½“å­—ï¼ˆe è¡¨ç¤º emphasisï¼‰
  C-c C-s s æ’å…¥ç²—ä½“å­—ï¼ˆs è¡¨ç¤º strongï¼‰
  C-c C-s c æ’å…¥ä»£ç ï¼Œæ¯”å¦‚å¼€å¤´çš„å¿«æ·é”®æ¡†æ¡†å°±æ˜¯å®ƒçš„æ•ˆæœ

  æ ‡é¢˜ Headings C-c C-t

  æˆ‘æœ€å¸¸ç”¨çš„ C-c C-t n ï¼Œn ä» 1 - 6ï¼Œ è¡¨ç¤ºå„çº§æ ‡é¢˜ã€‚æ¯”å¦‚ C-c C-t 3 å¾—åˆ° ### Heading ###

  + C-c C-t h æ ¹æ®å‰é¢çš„æ ‡é¢˜è‡ªåŠ¨é€‰æ‹©æ ‡é¢˜çº§åˆ«ã€‚C-c C-t H ç±»ä¼¼ï¼Œä¸åŒçš„æ˜¯
    å®ƒå°è¯•å¾—åˆ°å¸¦ä¸‹åˆ’çº¿çš„æ ‡é¢˜ ä¸€äº›é›¶æ•£çš„å¿«æ·é”®

  + C-c - æ’å…¥æ°´å¹³çº¿
  + C-c C-o å¦‚æœè¯¥ç‚¹æ˜¯ä¸€ä¸ªé“¾æ¥(Hyperlink)ï¼Œå°±ä¼šåœ¨æµè§ˆå™¨ä¸­æ‰“å¼€å®ƒçš„ URLï¼Œ
    å¦‚æœè¯¥ç‚¹æ˜¯ç»´åŸºç™¾ç§‘é“¾æ¥(wikilink)ï¼Œå°±ä¼šåœ¨å¦ä¸€ä¸ª Buffer ä¸­æ‰“å¼€
  + C-c C-j å¦‚æœè¯¥ç‚¹ååœ¨çš„ä½ç½®æ˜¯ä¸€ä¸ª Hyperlinkï¼ŒæŒ‰ä¸‹æ­¤å¿«æ·é”®å°±ä¼šåœ¨
    Link Text å’Œ Link URL ä¹‹é—´è·³è½¬ã€‚åŒæ ·ä¹Ÿé€‚ç”¨äºè„šæ³¨(footnote)ç­‰å…¶å®ƒç±»
    ä¼¼ç›®æ ‡
  + C-c C-- å’Œ C-c C-= Promotion å’Œ Demotionï¼ˆæŠ±æ­‰ï¼Œæƒ³ä¸åˆ°åˆé€‚çš„ä¸­æ–‡ç¿»
    è¯‘ï¼‰ã€‚ä¾‹å¦‚ï¼Œåœ¨ ### ### é™„è¿‘æŒ‰ä¸‹ C-c C-- ä¼šä½¿å®ƒå˜æˆ ## ##ï¼ŒæŒ‰ä¸‹ C-c
    C-= ä¼šä½¿å®ƒå˜æˆ #### ####ã€‚å‰è€…è®© Heading å‡çº§ï¼Œåè€…è®© Heading é™çº§
  + C-c C-k å°†è¯¥ç‚¹çš„ç›®æ ‡ kill æ‰ï¼Œå¹¶å°†å…¶å†…å®¹é€åˆ° kill ring ä¸­ï¼Œé€‚ç”¨äº
    ä»¥ä¸‹çš„ç›®æ ‡ï¼šinline code, headings, horizonal rules, links, images,
    email address ç­‰

  C-c C-n,C-c C-p,C-c C-f,C-c C-b,C-c C-u åœ¨ Heading ä¹‹é—´ç§»åŠ¨ï¼Œè‡ªå·±å»è¯•è¯•å§
  M-{,M-},C-M-a,C-M-e,C-M-h å¿«é€Ÿè·³è½¬ï¼Œå’Œ Emacs åŸºç¡€å¿«æ·é”®æ“ä½œä¸€æ ·
  ç»“æŸ
* ssh-terminal in emacs
  It turns out, there is what you want:
  #+BEGIN_SRC lisp
    (setq rlogin-program "ssh")
    (setq rlogin-process-connection-type t)
  #+END_SRC
  and then M-x rlogin RET <myhost> RET will do that.

  *But* I think this is useless.
* hex-mode
  `hexl-insert-hex-char'å¯ä»¥æŒ‰ç…§16è¿›åˆ¶æ¥ä¿®æ”¹æ–‡ä»¶ã€‚è¾“å…¥37å°±å¯¹åº”ä¿®æ”¹ä¸ºäº†
  =7= ã€‚
* tramp
** tramp multi-hop åœ¨è¿œç¨‹é€šè¿‡sudoç¼–è¾‘æ–‡ä»¶
   #+BEGIN_SRC emacs-lisp
     ;;; ä½¿trampå¯ä»¥ä½¿ç”¨`/sudo:root@host:/etc'è¿™æ ·çš„å½¢å¼æ¥åœ¨è¿œç¨‹ä½¿ç”¨`sudo'
     ;;; ç¼–è¾‘æ–‡ä»¶ï¼Œç”šè‡³å¯ä»¥ä½¿ç”¨`cd'ç›´æ¥è¿›å»ã€‚åœºæ™¯æ˜¯ä¸èƒ½é€šè¿‡rootç”¨æˆ·è¿œç¨‹ç™»é™†ï¼Œ
     ;;; ä½†æ˜¯åˆéœ€è¦ä½¿ç”¨rootçš„æƒé™æ¥ç¼–è¾‘æ–‡ä»¶ã€‚
     (add-to-list 'tramp-default-proxies-alist
                  '(nil "\\`root\\'" "/ssh:%h:"))
     (add-to-list 'tramp-default-proxies-alist
                  '((regexp-quote (system-name)) nil nil))

     ;;; æœ¬æœºä¸­ä½¿ç”¨`localhost'è¿™ä¸ªHOSTæ¥ä½¿ç”¨sudoï¼Œè®¾ç½®åœ¨æœ¬æœºæ—¶çš„userå’Œproxy
     ;;; éƒ½æ˜¯é»˜è®¤å€¼nil
     (add-to-list 'tramp-default-proxies-alist
                  '((regexp-quote "localhost") nil nil))
   #+END_SRC
  
   (HOST USER PROXY)
** host downåemacså¯èƒ½ä¼š =waiting for prompts from remote shell=

   åˆ é™¤ =~/.emacs.d/tramp= æ–‡ä»¶å°±å¯ä»¥äº†ã€‚è¿™ä¸ªæ–‡ä»¶åº”è¯¥æ˜¯cacheçš„ä¸€äº›è®¤è¯
   ä¿¡æ¯ã€‚remote host downåï¼Œè¿™ä¸ªä¿¡æ¯å¦‚æœè¿˜åœ¨ï¼Œå¯èƒ½è¿˜ä¼šå°è¯•è¿æ¥ã€‚è¿™æ—¶
   å…³é—­emacséƒ½ä¸è¡Œã€‚ä½¿ç”¨`tramp-cleanup-all-buffers'ä¹Ÿä¸è¡Œã€‚
   
   å¦å¤–ï¼Œæˆ‘è¿˜æ¥ç…§ç½‘ä¸Šçš„è¯´æ³•ï¼Œè¿™æ ·è®¾ç½®äº†ä¸€ä¸‹ï¼š
   #+BEGIN_SRC elisp
     (setq tramp-shell-prompt-pattern "\\(?:^\\|\\)[^]#$%>\n]*#?[]#$%>].* *\\(\\[[0-9;]*[a-zA-Z] *\\)*")
   #+END_SRC
* find and grep
  + in file or buffer: helm-occur, swiper
  + dir in local:helm-do-ag, rgrep, find-grep-dired, find-grep
  + dir in remote:rgrep, find-grep-dired, find-grep
* DONE lexical and dynamic scoping  [[https://yoo2080.wordpress.com/2011/12/31/lexical-scoping-and-dynamic-scoping-in-emacs-lisp/][box's blog]] è¯æ³•ä½œç”¨åŸŸå’ŒåŠ¨æ€ä½œç”¨åŸŸ
  - State "DONE"       from "PLAN"       [2016-10-12 Wed 09:40]
  
  åŠ¨æ€ä½œç”¨åŸŸï¼š
  #+BEGIN_SRC emacs-lisp :result output :tangle /tmp/dynamic.el
    (setq b 17)
    (defun my-print-b ()
      (print b))
    (setq b 1717)
    (let ((b 8))
      (my-print-b))
  #+END_SRC

  è¯æ³•ä½œç”¨åŸŸï¼š
  #+BEGIN_SRC emacs-lisp :tangle /tmp/lexical.el
    ;; -*- lexical-binding: t -*-

    (setq a 17)
    (defun my-print-a ()
      (print a))
    (setq a 1717)
    (let ((a 8))
      (my-print-a))
  #+END_SRC

  Notice that the value of a is not specified within my-print-a,
  making it what some call a â€œfree variableâ€ (also known as nonlocal
  variables as in â€œa is nonlocal to my-print-aâ€). What will be the
  result of running the code above? Will it print 1717? Or is it going
  to be 8? With dynamic scoping, it prints 8. With lexical scoping, it
  prints 1717. With dynamic scoping, what the name a in my-print-a
  refers to is determined by *when* my-print-a is *called*. With
  lexical scoping, it is determined by *where* my-print-a is
  *defined*.
  
  è¯æ³•ä½œç”¨åŸŸï¼šå‡½æ•°åœ¨ä»€ä¹ˆåœ°æ–¹è¢«å®šä¹‰æ˜¯å…³é”®ã€‚
  åŠ¨æ€ä½œç”¨åŸŸï¼šå‡½æ•°åœ¨ä»€ä¹ˆæ—¶å€™è¢«è°ƒç”¨æ˜¯å…³é”®ã€‚
  
  è¯æ³•é—­åŒ…å°±æ˜¯é—­åŒ…ã€‚Emacs 23åŠä»¥å‰éƒ½æ˜¯åŠ¨æ€ä½œç”¨çš„ã€‚Emacs 24åŠä»¥åçš„ç‰ˆæœ¬
  æ‰åŠ å…¥äº†è¯æ³•ä½œç”¨åŸŸã€‚
* org tangle
  orgå¯ä»¥æ–‡å­¦ç¼–ç¨‹ï¼Œä½¿ç”¨ =:tangle= æ¥å¯¼å‡ºsrcå—ã€‚org-modeä¸­è¿™æ ·å†™ï¼Œç„¶å
  è°ƒç”¨`org-babel-tangle'å°±å¯ä»¥åœ¨æœ¬åœ°ç”Ÿæˆä¸€ä¸ªåä¸ºmain.shçš„æ–‡ä»¶ï¼Œé‡Œé¢çš„
  å†…å®¹å³ä¸ºå—ä¸­çš„ä»£ç ï¼š
  #+BEGIN_SRC org
    ,#+BEGIN_SRC sh :tangle main.sh
    date
    ,#+END_SRC
  #+END_SRC
  
  ä½¿ç”¨`org-babel-tangle'å¯¼å‡ºæ—¶ï¼Œå¯¹åº”çš„ç›®å½•å¯èƒ½ä¸å­˜åœ¨ã€‚éœ€è¦æ–°å»ºï¼Œå¯ä»¥è¿™
  æ ·æ¥å¯¼å‡ºï¼š
  
  #+BEGIN_SRC org
    ,#+BEGIN_SRC sh :tangle (prog1 "/tmp/temp/dd.sh" (make-directory "temp" "/tmp"))
      date
    ,#+END_SRC
  #+END_SRC
* org exec code block
  é»˜è®¤resultä¸­ä¸ä¼šæœ‰è„šæœ¬å‘STDOUTè¾“å‡ºçš„å†…å®¹ã€‚åŠ å…¥ =:result output=
  [[info:org#Results%20of%20evaluation][info:org#Results of evaluation]]

  #+BEGIN_SRC org
    ,#+BEGIN_SRC python :results output
    print('test output')
    ,#+END_SRC
  #+END_SRC
* org exports
  ä¸‹é¢è¿™æ ·ï¼Œç”Ÿæˆhtmlçš„æ—¶å€™æ‰ä¼šæŠŠç»“æœå¯¼å‡ºå‡ºæ¥ã€‚
  #+BEGIN_SRC python :results output :exports both
    print 'xiepeng'
  #+END_SRC

  #+RESULTS:
  : xiepeng

* theme
  [[https://emacsthemes.com/][è¿™é‡Œæœ‰å¾ˆå¤šemacsçš„theme]]
* elisp check if string is empty
  #+BEGIN_SRC elisp
    (= 0 (length ""))
  #+END_SRC

  #+RESULTS:
  : t
* emacs python parser
  =orgnode.py= æºç åœ¨è¿™é‡Œï¼š
  #+BEGIN_SRC python
    # Copyright (c) 2010 Charles Cave
    # 
    #  Permission  is  hereby  granted,  free  of charge,  to  any  person
    #  obtaining  a copy  of  this software  and associated  documentation
    #  files   (the  "Software"),   to  deal   in  the   Software  without
    #  restriction, including without limitation  the rights to use, copy,
    #  modify, merge, publish,  distribute, sublicense, and/or sell copies
    #  of  the Software, and  to permit  persons to  whom the  Software is
    #  furnished to do so, subject to the following conditions:
    # 
    #  The above copyright notice and this permission notice shall be
    #  included in all copies or substantial portions of the Software.
    # 
    #  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
    #  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
    #  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
    #  NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS
    #  BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN
    #  ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
    #  CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
    #  SOFTWARE.

    # Program written by Charles Cave   (charlesweb@optusnet.com.au)
    # February - March 2009
    # Version 2 - June 2009
    #   Added support for all tags, TODO priority and checking existence of a tag
    # More information at
    #    http://members.optusnet.com.au/~charles57/GTD

    """
    The Orgnode module consists of the Orgnode class for representing a
    headline and associated text from an org-mode file, and routines for
    constructing data structures of these classes.
    """

    import re, sys
    import datetime

    def makelist(filename):
       """
       Read an org-mode file and return a list of Orgnode objects
       created from this file.
       """
       ctr = 0

       try:
          f = open(filename, 'r')
       except IOError:
          print "Unable to open file [%s] " % filename
          print "Program terminating."
          sys.exit(1)

       todos         = dict()  # populated from #+SEQ_TODO line
       todos['TODO'] = ''   # default values
       todos['DONE'] = ''   # default values
       level         = 0
       heading       = ""
       bodytext      = ""
       tag1          = ""      # The first tag enclosed in ::
       alltags       = []      # list of all tags in headline
       sched_date    = ''
       deadline_date = ''
       nodelist      = []
       propdict      = dict()
   
       for line in f:
           ctr += 1     
           hdng = re.search('^(\*+)\s(.*?)\s*$', line)
           if hdng:
              if heading:  # we are processing a heading line
                 thisNode = Orgnode(level, heading, bodytext, tag1, alltags)
                 if sched_date:
                    thisNode.setScheduled(sched_date)
                    sched_date = ""
                 if deadline_date:
                    thisNode.setDeadline(deadline_date)
                    deadline_date = ''
                 thisNode.setProperties(propdict)
                 nodelist.append( thisNode )
                 propdict = dict()
              level = hdng.group(1)
              heading =  hdng.group(2)
              bodytext = ""
              tag1 = ""
              alltags = []       # list of all tags in headline
              tagsrch = re.search('(.*?)\s*:(.*?):(.*?)$',heading)
              if tagsrch:
                  heading = tagsrch.group(1)
                  tag1 = tagsrch.group(2)
                  alltags.append(tag1)
                  tag2 = tagsrch.group(3)
                  if tag2:
                     for t in tag2.split(':'):
                        if t != '': alltags.append(t)
           else:      # we are processing a non-heading line
               if line[:10] == '#+SEQ_TODO':
                  kwlist = re.findall('([A-Z]+)\(', line)
                  for kw in kwlist: todos[kw] = ""

               if line[:1] != '#':
                   bodytext = bodytext + line

               if re.search(':PROPERTIES:', line): continue
               if re.search(':END:', line): continue
               prop_srch = re.search('^\s*:(.*?):\s*(.*?)\s*$', line)
               if prop_srch:
                  propdict[prop_srch.group(1)] = prop_srch.group(2)
                  continue
               sd_re = re.search('SCHEDULED:\s+<([0-9]+)\-([0-9]+)\-([0-9]+)', line)
               if sd_re:
                  sched_date = datetime.date(int(sd_re.group(1)),
                                             int(sd_re.group(2)),
                                             int(sd_re.group(3)) )
               dd_re = re.search('DEADLINE:\s*<(\d+)\-(\d+)\-(\d+)', line)
               if dd_re:
                  deadline_date = datetime.date(int(dd_re.group(1)),
                                                int(dd_re.group(2)),
                                                int(dd_re.group(3)) )

       # write out last node              
       thisNode = Orgnode(level, heading, bodytext, tag1, alltags)
       thisNode.setProperties(propdict)   
       if sched_date:
          thisNode.setScheduled(sched_date)
       if deadline_date:
          thisNode.setDeadline(deadline_date)
       nodelist.append( thisNode )
              
       # using the list of TODO keywords found in the file
       # process the headings searching for TODO keywords
       for n in nodelist:
           h = n.Heading()
           todoSrch = re.search('([A-Z]+)\s(.*?)$', h)
           if todoSrch:
               if todos.has_key( todoSrch.group(1) ):
                   n.setHeading( todoSrch.group(2) )
                   n.setTodo ( todoSrch.group(1) )
           prtysrch = re.search('^\[\#(A|B|C)\] (.*?)$', n.Heading())
           if prtysrch:
              n.setPriority(prtysrch.group(1))
              n.setHeading(prtysrch.group(2))
                            
       return nodelist

    ######################
    class Orgnode(object):
        """
        Orgnode class represents a headline, tags and text associated
        with the headline.
        """
        def __init__(self, level, headline, body, tag, alltags):
            """
            Create an Orgnode object given the parameters of level (as the
            raw asterisks), headline text (including the TODO tag), and
            first tag. The makelist routine postprocesses the list to
            identify TODO tags and updates headline and todo fields.
            """
            self.level = len(level)
            self.headline = headline
            self.body = body
            self.tag = tag            # The first tag in the list
            self.tags = dict()        # All tags in the headline
            self.todo = ""
            self.prty = ""            # empty of A, B or C
            self.scheduled = ""       # Scheduled date
            self.deadline = ""        # Deadline date
            self.properties = dict()
            for t in alltags:
               self.tags[t] = ''

            # Look for priority in headline and transfer to prty field
        
        def Heading(self):
            """
            Return the Heading text of the node without the TODO tag
            """
            return self.headline

        def setHeading(self, newhdng):
            """
            Change the heading to the supplied string
            """
            self.headline = newhdng

        def Body(self):
            """
            Returns all lines of text of the body of this node except the
            Property Drawer
            """
            return self.body

        def Level(self):
            """
            Returns an integer corresponding to the level of the node.
            Top level (one asterisk) has a level of 1.
            """
            return self.level

        def Priority(self):
            """
            Returns the priority of this headline: 'A', 'B', 'C' or empty
            string if priority has not been set.
            """
            return self.prty

        def setPriority(self, newprty):
            """
            Change the value of the priority of this headline.
            Values values are '', 'A', 'B', 'C'
            """
            self.prty = newprty
    
        def Tag(self):
            """
            Returns the value of the first tag.
            For example, :HOME:COMPUTER: would return HOME
            """
            return self.tag

        def Tags(self):
            """
            Returns a list of all tags 
            For example, :HOME:COMPUTER: would return ['HOME', 'COMPUTER']
            """
            return self.tags.keys()

        def hasTag(self, srch):
            """
            Returns True if the supplied tag is present in this headline
            For example, hasTag('COMPUTER') on headling containing
            :HOME:COMPUTER: would return True.
            """
            return self.tags.has_key(srch)
        
        def setTag(self, newtag):
            """
            Change the value of the first tag to the supplied string
            """
            self.tag = newtag

        def setTags(self, taglist):
            """
            Store all the tags found in the headline. The first tag will
            also be stored as if the setTag method was called.
            """
            for t in taglist:
               self.tags[t] = ''
        
        def Todo(self):
            """
            Return the value of the TODO tag
            """
            return self.todo

        def setTodo(self, value):
            """
            Set the value of the TODO tag to the supplied string
            """
            self.todo = value

        def setProperties(self, dictval):
            """
            Sets all properties using the supplied dictionary of
            name/value pairs
            """
            self.properties = dictval

        def Property(self, keyval):
            """
            Returns the value of the requested property or null if the
            property does not exist.
            """
            return self.properties.get(keyval, "")
    
        def setScheduled(self, dateval):
            """
            Set the scheduled date using the supplied date object
            """
            self.scheduled = dateval

        def Scheduled(self):
            """
            Return the scheduled date object or null if nonexistent
            """
            return self.scheduled
    
        def setDeadline(self, dateval):
            """
            Set the deadline (due) date using the supplied date object
            """
            self.deadline = dateval

        def Deadline(self):
            """
            Return the deadline date object or null if nonexistent
            """
            return self.deadline

        def __repr__(self):
            """
            Print the level, heading text and tag of a node and the body
            text as used to construct the node.
            """
            # This method is not completed yet.
            n = ''
            for i in range(0, self.level):
               n = n + '*'
            n = n + ' ' + self.todo + ' '
            if self.prty:
               n = n +  '[#' + self.prty + '] '
            n = n + self.headline
            n = "%-60s " % n     # hack - tags will start in column 62
            closecolon = ''
            for t in self.tags.keys():
               n = n + ':' + t
               closecolon = ':'   
            n = n + closecolon
    # Need to output Scheduled Date, Deadline Date, property tags The
    # following will output the text used to construct the object
            n = n + "\n" + self.body
        
            return n


    

  #+END_SRC

  ä¸‹é¢è¿™ä¸ªä¾‹å­æŠŠtest.orgä¸­çš„æ‰€æœ‰headlineå¼„å‡ºæ¥ã€‚
  #+BEGIN_SRC python
    #!/usr/local/bin/python
    from orgnode import *

    import sys
    nodelist = makelist('/tmp/test.org')

    print "\n--------- PROJECT LIST ----------------"
    for node in nodelist:
        s = node
        print '*'*node.level,' ', node.headline
  #+END_SRC
* ä½¿ç”¨workgroupæ¥å®Œå–„æˆ‘çš„å·¥ä½œæµ
  1. ä½¿ç”¨workgroup2,æ¯ä¸€ä¸ªworkgroupå°±å¹²ä¸€ä»¶äº‹æƒ…ã€‚å®ƒæ¯”bookmarkçš„ä¼˜åŠ¿åœ¨
     äºï¼š
     1. å¯ä»¥è®°å¿†windowsçš„å¸ƒå±€ã€‚
     2. å¯ä»¥è®°å½•å¤šä¸ªæ–‡ä»¶ï¼Œå°±åƒå®ƒçš„åå­—ï¼Œå®Œå…¨å°±æ˜¯ä¸åŒçš„å·¥ä½œæµã€‚
  2. æ¯ä¸ªworkgroupä¸­éšä¾¿æ•´ã€‚æ¯æ¬¡æ‰“å¼€å…³é—­éƒ½ä¼šè®°å½“å‰å·²æ‰“å¼€çš„bufferã€‚é‡å¯
     åä¹Ÿä¼šéƒ½æ‰“å¼€ã€‚
  3. æœ‰ä¸€ä¸ªéšä¾¿è·³çš„workgroup: mainã€‚å¦‚æœæœ‰æ—¶å› æ‰“çš„workgroupå¤ªå¤šå¯¼è‡´æ‰“
     å¼€æ–‡ä»¶å¤ªå¤šï¼Œå¯ä»¥åˆ‡æ¢åˆ°è¿™ä¸ªworkgroupï¼Œæ¸…é™¤æ‰€æœ‰æ–‡ä»¶bufferã€‚ç„¶åå†åˆ‡
     æ¢åˆ°å¯¹åº”çš„workgroupå°±åªæœ‰è¯¥wgç›¸å…³çš„bufferå­˜åœ¨äº†ã€‚è¿˜æœ‰ä¸€ä¸ªä¸“é—¨çš„å‡½
     æ•°æ¥è·³åˆ° =main= è¿™ä¸ªworkgroupã€‚ =peng-switch-to-main-workgroup= ã€‚
     #+BEGIN_SRC elisp
       (defun peng-switch-to-main-workgroup ()
         (interactive)
           (wg-switch-to-workgroup (aref (wg-find-workgroup-by :name "main") 2)))
     #+END_SRC
* ä½¿ç”¨ditaa
  åœ¨Macä¸Šä½¿ç”¨brewæ¥å®‰è£…ditaaï¼š
  #+BEGIN_SRC sh
    brew install ditaa
  #+END_SRC
  
  ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ï¼š
  #+BEGIN_SRC org
    ,#+begin_src ditaa :file /tmp/some_filename.png :cmdline -r -s 0.8 -e utf-8
              up1   up2   up3   up4                     Input Traffic
               ^     ^     ^     ^                            |
               |     |     |     |                            |
               |     |     |     |                            |
               v     v     v     v                            v
        +-----+--+--+--+--+--+--+--+-------------------------+--+------------------+
        |     |  |  |  |  |  |  |  | 1G/s                    |  | 10G/s            |
        |     ++-+  ++-+  ++-+  ++-+ eth[0~3]                ++-+ eth6             |
        |      ^     ^     ^     ^                            |                    |
        |      |     |     |     |                            |                    |
        |      |     |     |     |            +---------------+---------------+    |
        |      |     |     |     |            |                               |    |
        |      |     |     |     +----------->+                               |    |
        |      |     |     |                  |        ä½ å¥½       ä½ å¥½        |    |
        |      |     |     +----------------->+                               |    |
        |      |     |                        |           bridge-eth6         |    |
        |      |     +----------------------->+                               |    |
        |      |                              |                               |    |
        |      +----------------------------->+                               |    |
        |                                     +-+-------+-------+-------+-----+    |
        |                                       |       |       |       |          |
        |                                      ++-+    ++-+    ++-+    ++-+        |
        |                                      |  |    |  |    |  |    |  |  ...   |
        |                                      +--+    +--+    +--+    +--+        |
        |                                      vm1     vm2     vm3     vm5         |
        +--------------------------------------------------------------------------+
    ,#+end_src
  #+END_SRC
* emacså¯¹é½
  1. [ ]  [[http://ergoemacs.org/emacs/emacs_align_and_sort.html][è‹±æ–‡è®²å¾—æ¯”è¾ƒæ¸…æ¥šï¼Œæ¨èï¼Œè¿˜è®²äº†å¦‚ä½•sort]]
     #+BEGIN_EXAMPLE
Emacs: Align Text

By Xah Lee. Date: 2011-11-02. Last updated: 2017-11-05.

Alt+x align-regexp to align text.

For example, suppose you have:

tom = 5
jenny = 8
mary = 7

and you want to align them by the equal sign. Just select the text,
then Alt+x align-regexp then give â€œ=â€. Then you get:

tom   = 5
jenny = 8
mary  = 7

The following is more advanced use of align and sort commands.

Problem

You have this list:

California 423,970 kmÂ²
Taiwan 36,008 kmÂ²
Japan 377,944 kmÂ²
Germany 357,021 kmÂ²
Iraq 438,317 kmÂ²
Iran 1,648,195 kmÂ²
Korea (North+South) 219,140 kmÂ²
Mexico 1,964,375 kmÂ²

change it to this form:

Taiwan                 36,008 kmÂ²
Korea (North+South)   219,140 kmÂ²
Japan                 377,944 kmÂ²
Germany               357,021 kmÂ²
California            423,970 kmÂ²
Iraq                  438,317 kmÂ²
Iran                1,648,195 kmÂ²
Mexico              1,964,375 kmÂ²

Solution

Jon Snader and â€œjmâ€, provided the following solution.

align-regexp

First, we align the text. Select the text first, then press ã€Ctrl+u
ã€‘ then call align-regexp, with the regexp .* \([0-9,]+\).* then
choose -1 for group, 1 for spacing, and n for repeat.

Here's what it means. align-regexp lets you align a region by a regex
in complex ways.

  ,* The regex .* \([0-9,]+\).* matches a whole line (you can add ^ at
    the beginning and $ at end if you like, but is not necessary).
    The pattern \([0-9,]+\) captures our numbers part.
  ,* The prompt â€œParenthesis group to modify (justify if negative):â€,
    we answer â€œ-1â€, because we want the first matched pattern to be
    used for alignment, and we want it to be justified to the right
    (meaning, align to the right of text captured by our pattern).
  ,* The query â€œAmount of spacing (or column if negative): â€, we use
    1.
  ,* In â€œRepeat throughout line?â€ we answer â€œnâ€.
  ,* ã€Ctrl+uã€‘ is necessary for â€œalign-regexâ€ to promp you for
    various parameters (though, â€œalign-regexâ€'s doc string does not
    mention it).

The result is this:

California             423,970 kmÂ²
Taiwan                  36,008 kmÂ²
Japan                  377,944 kmÂ²
Germany                357,021 kmÂ²
Iraq                   438,317 kmÂ²
Iran                 1,648,195 kmÂ²
Korea (North+South)    219,140 kmÂ²
Mexico               1,964,375 kmÂ²

sort-regexp-fields, sort-columns

To sort it, there are 2 methods. One is using sort-regexp-fields,
with this regex ^.*\([0-9 ,]\{9\}\) kmÂ²$.

Another method is simply use sort-columns. This command sort lines by
using a vertical column of text as sort key. The column is specified
by the position of mark and cursor. So, place the cursor at the upper
right, mark it, then move to lower left of our number, like this:

California             423,970 kmÂ²â–®
Taiwan                  36,008 kmÂ²
Japan                  377,944 kmÂ²
Germany                357,021 kmÂ²
Iraq                   438,317 kmÂ²
Iran                 1,648,195 kmÂ²
Korea (North+South)    219,140 kmÂ²
Mexico              â–®1,964,375 kmÂ²

Then call sort-columns. We got our desired result:

Taiwan                  36,008 kmÂ²
Korea (North+South)    219,140 kmÂ²
Japan                  377,944 kmÂ²
Germany                357,021 kmÂ²
California             423,970 kmÂ²
Iraq                   438,317 kmÂ²
Iran                 1,648,195 kmÂ²
Mexico               1,964,375 kmÂ²

All these commands: {align-regexp, sort-regexp-fields, sort-columns}
will be quite useful when you need it. (Big thanks to Jon Snader and
â€œjmâ€ for the excellent solutions.)
     #+END_EXAMPLE
  2. [[http://www.hickwu.com/%25E5%2588%259D%25E6%25AD%25A5%25E5%25AD%25A6%25E4%25BC%259Aemacs%25E4%25B8%25AD%25E7%259A%2584align-regexp%25E7%259A%2584%25E7%2594%25A8%25E6%25B3%2595][è¿™é‡Œæœ‰ä¸€ç¯‡ä¸­æ–‡çš„]]

  
  #+BEGIN_EXAMPLE
    _f_:    ls-git    _F_: ido-fasd-find-file                _r_: edit-current-file-as-root
    _g_:    grep      _o_: swiper _O_: swiper-all
    _j_:    git-grep  _i_: ivy-imenu-anywhere _S_: evil-write-all
    _s_: lusty-sudo-explorer _q_: hydra-zoom/body
  #+END_EXAMPLE
  
  å¯ä»¥è¿™æ ·æ¥å¯¹é½ï¼š
  =C-u align-regex \(\s-*\)...: 1 10 y=

  å¯¹é½åæ•ˆæœå¦‚ä¸‹ï¼š
  #+BEGIN_EXAMPLE
    _f_:    ls-git                    _F_: ido-fasd-find-file          _r_: edit-current-file-as-root
    _g_:    grep                      _o_: swiper                      _O_: swiper-all
    _j_:    git-grep                  _i_: ivy-imenu-anywhere          _S_: evil-write-all
    _s_: lusty-sudo-explorer          _q_: hydra-zoom/body
  #+END_EXAMPLE
  
  ä¸€èˆ¬å°±æ˜¯æ‰¾åˆ°åŒ¹é…çš„æ­£åˆ™ï¼Œç„¶åç¬¬ä¸€ä¸ªé€‰ =-1= ï¼Œç„¶åç¬¬äºŒä¸ªé€‰ =1= æˆ‘æ„Ÿè§‰
  æ˜¯ä¸€ä¸ªtabã€‚é‡ä¸é‡çœ‹æƒ…å†µå°±å¥½äº†ã€‚

* æ­£åˆ™è¡¨è¾¾å¼
  emacsä¸­çš„æ­£åˆ™å’Œå…¶å®ƒæˆ‘è§‰å¾—æ²¡æœ‰å¤ªå¤§åŒºåˆ«ã€‚å”¯ä¸€ä¸åŒæ˜¯ =\= åœ¨emacsçš„
  stringä¸­æœ‰ç‰¹æ®Šçš„å«ä¹‰ã€‚æ‰€ä»¥ä½¿ç”¨stringæ¥è¡¨ç¤ºemacsä¸­çš„æ­£åˆ™æ—¶ï¼Œåœ¨éœ€è¦ä½¿
  ç”¨ =\= æ¥è½¬ä¹‰çš„åœ°æ–¹ï¼Œè¦ä½¿ç”¨ä¸¤ä¸ªã€‚æ¯”å¦‚stringä¸­çš„è¿™æ ·ï¼š =\\$= æ‰æ˜¯è½¬ä¹‰
  äº† =$= ã€‚è¿™å°±å¯¼è‡´emacsçš„æ­£åˆ™çœ‹èµ·æ¥æ˜¯å……æ»¡äº† =\= ã€‚
* ä½¿ç”¨emacsæ¥æŸ¥çœ‹pythonä»£ç 
** elpy
   ä¼˜å…ˆä½¿ç”¨elpyï¼Œæ„Ÿè§‰å®ƒå¯ä»¥â€œç†è§£â€pythonä»£ç ã€‚ä¹Ÿå¾ˆç²¾ç¡®ã€‚
** åŸºäºtag
   ä½¿ç”¨ctagsç­‰å·¥å…·åˆ¶åšå¥½tagsåæ¥ä½¿ç”¨ã€‚tagç›¸å¯¹æ¥è¯´è¦ç²¾ç¡®ä¸€äº›ã€‚
   
   ctagsæŒ‡å®šæ–‡ä»¶åˆ—è¡¨åˆ¶åštagï¼š
   #+BEGIN_SRC sh
     find -type f -name "*.py" > tags.files
     ctags -e -L tags.files

     # ä¸‹é¢è¿™ä¸ªå¯ä»¥ä¸è¦testç›®å½•
     gfind  -type f -name "*.py" -not -path "./tests/*"
   #+END_SRC
** cscope
   cscopeå¯ä»¥åäºtagæ¥ä½¿ç”¨ã€‚å®ƒçš„æœç´¢èŒƒå›´è¦å¤§äº›ã€‚

   cscopeæŒ‡å®šæ–‡ä»¶åˆ—è¡¨åˆ¶åšdatabaseï¼š
   #+BEGIN_SRC sh
     find -type f -name "*.py" > cscope.files
     cscope -b -k
   #+END_SRC
   
** ag
   `projectile-ag'æ¥å…¨å±€æœï¼Œæ•ˆæœå¾ˆä¸é”™ã€‚

* replace-regexpä¸­è¾“å…¥æ¢è¡Œnewline
  éœ€è¦ä½¿ç”¨ =C-q C-j= ã€‚
  #+BEGIN_EXAMPLE
    C-q for quoted-insert,
    C-j is a newline.
  #+END_EXAMPLE

* ç»“åˆhelm-agæ¥è¿›è¡Œmulti-edit
  å…ˆä½¿ç”¨helm-agæœå‡ºæ¥ä¸œè¥¿ã€‚ç„¶å `C-c C-e' è¿›å…¥helm-edit-modeã€‚æŠŠéœ€è¦çš„
  ä¿®æ”¹æ”¹å¥½åï¼Œä½¿ç”¨ `C-c C-c' ç¡®å®šæäº¤ã€‚

  *Keymap*

  `helm-ag-map' and `helm-do-ag-map' are inherited by helm-map
  |--------------+----------------------------------------------------------------------------|
  | Key          | Action                                                                     |
  |--------------+----------------------------------------------------------------------------|
  | C-c o        | Open other window                                                          |
  | C-l          | Search in parent directory                                                 |
  | C-c C-e      | Switch to edit mode                                                        |
  | C-x C-s      | Save ag results to buffer(Ask save buffer name if prefix key is specified) |
  | C-c C-f      | Enable helm-follow-mode                                                    |
  | C-c >, right | Move to next file                                                          |
  | C-c <, left  | Move to previous file                                                      |
  | C-c ?        | Show help message                                                          |
  |--------------+----------------------------------------------------------------------------|
  
  *Edit mode keymap*

  |---------+------------------|
  | Key     | Action           |
  |---------+------------------|
  | C-c C-c | Commit changes   |
  | C-c C-k | Abort            |
  | C-c C-d | Mark delete line |
  | C-c C-u | Unmark           |
  |---------+------------------|

* ibuffer
  ibufferå¯ä»¥è¿™æ ·è®¾ç½®æ¥åˆ†ç»„ï¼š
  #+BEGIN_SRC elisp
    ;;; set ibuffer display as group
    (setq ibuffer-saved-filter-groups
          (quote (("default"
                   ("dired" (mode . dired-mode))
                   ;; ("perl" (mode . cperl-mode))
                   ("python" (mode . python-mode))
                   ;; ("erc" (mode . erc-mode))
                   ("emacs" (or
                             (name . "^\\*scratch\\*$")
                             (name . "^\\*Messages\\*$")
                             (mode . emacs-lisp-mode)
                             ))
                   ("w3m" (or
                             (mode . w3m-mode)
                             ))
                   ("planner" (or
                               (name . "^Calendar$")
                               (name . "^diary$")
                               (name . "^inbox.org$")
                               (name . "^Tips.org$")
                               (name . "^note.org$")
                               (name . "^daily.org$")
                               (name . "^test.org$")
                               (mode . muse-mode)
                               ))
                   ("org" (mode . org-mode))
                   ;; ("gnus" (or
                   ;;          (mode . message-mode)
                   ;;          (mode . bbdb-mode)
                   ;;          (mode . mail-mode)
                   ;;          (mode . gnus-group-mode)
                   ;;          (mode . gnus-summary-mode)
                   ;;          (mode . gnus-article-mode)
                   ;;          (name . "^\\.bbdb$")
                   ;;          (name . "^\\.newsrc-dribble")))
                   ))))
    (add-hook 'ibuffer-mode-hook
              (lambda ()
                (ibuffer-switch-to-saved-filter-groups "default")))
  #+END_SRC

  è®¾ç½®æ˜¾ç¤ºå¤§å°ä¸ºhuman readableï¼š
  #+BEGIN_SRC elisp
    ;; Use human readable Size column instead of original one
    (define-ibuffer-column size-h
      (:name "Size" :inline t)
      (cond
       ((> (buffer-size) 1000000) (format "%7.1fM" (/ (buffer-size) 1000000.0)))
       ((> (buffer-size) 100000) (format "%7.0fk" (/ (buffer-size) 1000.0)))
       ((> (buffer-size) 1000) (format "%7.1fk" (/ (buffer-size) 1000.0)))
       (t (format "%8d" (buffer-size)))))

    ;; Modify the default ibuffer-formats
      (setq ibuffer-formats
            '((mark modified read-only " "
                    (name 18 18 :left :elide)
                    " "
                    (size-h 9 -1 :right)
                    " "
                    (mode 16 16 :left :elide)
                    " "
                    filename-and-process)))
  #+END_SRC

* å†™ä¸€ä¸ªåˆ¤æ–­æ˜¯å¦æœ‰ =universal-argument= çš„å‡½æ•°
  #+BEGIN_SRC elisp
    (defun my-test (x)
      "print argument received"
      (interactive "P")
      (message "%s" x)
      ;; value of x is from universal argument, or nil if universal-argument isn't called
    )
  #+END_SRC

* è¯»å†™æ–‡ä»¶
  #+BEGIN_SRC elisp
    ;;; Read File Content into a String
    (defun get-string-from-file (filePath)
      "Return filePath's file content."
      (with-temp-buffer
        (insert-file-contents filePath)
        (buffer-string)))
    ;; thanks to â€œPascal J Bourguignonâ€ and â€œTheFlyingDutchman ã€”zzbbaâ€¦@aol.comã€•â€. 2010-09-02

    ;;; Read File Content as List of Lines
    (defun read-lines (filePath)
      "Return a list of lines of a file at filePath."
      (with-temp-buffer
        (insert-file-contents filePath)
        (split-string (buffer-string) "\n" t)))


    ;;; save variable `ivy-views' to file, it will overide the file
    (with-temp-file "/tmp/elisp.el"
      (insert (format "%s" ivy-views)))

  #+END_SRC

* convert string to list object
  ä½¿ç”¨`read'å¯ä»¥å®Œæˆï¼Œå®ƒå¯ä»¥ä»bufferã€stringç­‰å¾ˆå¤šä¸­è¯»å–å‡ºlist objectï¼š
  #+BEGIN_EXAMPLE
    Read one Lisp expression as text from STREAM, return as Lisp object.
    If STREAM is nil, use the value of `standard-input' (which see).
    STREAM or the value of `standard-input' may be:
     a buffer (read from point and advance it)
     a marker (read from where it points and advance it)
     a function (call it with no arguments for each character,
         call it with a char as argument to push a char back)
     a string (takes text from string, starting at the beginning)
     t (read text line using minibuffer and use it, or read from
        standard input in batch mode).
  #+END_EXAMPLE

  #+BEGIN_SRC elisp
    ;;; read from string
    (read "(xie peng ni hoa)")

    ;;; read from file
    (with-temp-buffer 
      (insert-file-contents "/tmp/elisp.el")
      (goto-char (point-min))
      (read (current-buffer)))
  #+END_SRC

* artist mode
  ä½¿ç”¨ =artist-select-op-text-see-thru= å¯ä»¥æ¥ç”»assiccå­—ä½“ã€‚ =M-x= è°ƒ
  ç”¨åï¼Œè¿˜éœ€è¦æŒ‰ä¸‹å›è½¦ã€‚ç„¶åè¾“å…¥å­—æ¯å§ã€‚

* org-modeä»£ç å—
  æŒ‰é”®ç»‘å®š
  #+BEGIN_EXAMPLE
    `C-c C-v p'   or   `C-c C-v C-p'     `org-babel-previous-src-block'
    `C-c C-v n'   or   `C-c C-v C-n'     `org-babel-next-src-block'
    `C-c C-v e'   or   `C-c C-v C-e'     `org-babel-execute-maybe'
    `C-c C-v o'   or   `C-c C-v C-o'     `org-babel-open-src-block-result'
    `C-c C-v v'   or   `C-c C-v C-v'     `org-babel-expand-src-block'
    `C-c C-v u'   or   `C-c C-v C-u'     `org-babel-goto-src-block-head'
    `C-c C-v g'   or   `C-c C-v C-g'     `org-babel-goto-named-src-block'
    `C-c C-v r'   or   `C-c C-v C-r'     `org-babel-goto-named-result'
    `C-c C-v b'   or   `C-c C-v C-b'     `org-babel-execute-buffer'
    `C-c C-v s'   or   `C-c C-v C-s'     `org-babel-execute-subtree'
    `C-c C-v d'   or   `C-c C-v C-d'     `org-babel-demarcate-block'
    `C-c C-v t'   or   `C-c C-v C-t'     `org-babel-tangle'
    `C-c C-v f'   or   `C-c C-v C-f'     `org-babel-tangle-file'
    `C-c C-v c'   or   `C-c C-v C-c'     `org-babel-check-src-block'
    `C-c C-v j'   or   `C-c C-v C-j'     `org-babel-insert-header-arg'
    `C-c C-v l'   or   `C-c C-v C-l'     `org-babel-load-in-session'
    `C-c C-v i'   or   `C-c C-v C-i'     `org-babel-lob-ingest'
    `C-c C-v I'   or   `C-c C-v C-I'     `org-babel-view-src-block-info'
    `C-c C-v z'   or   `C-c C-v C-z'     `org-babel-switch-to-session-with-code'
    `C-c C-v a'   or   `C-c C-v C-a'     `org-babel-sha1-hash'
    `C-c C-v h'   or   `C-c C-v C-h'     `org-babel-describe-bindings'
    `C-c C-v x'   or   `C-c C-v C-x'     `org-babel-do-key-sequence-in-edit-buffer'

  #+END_EXAMPLE
  1. =org-babel-goto-named-src-block= å¯ä»¥è·³åˆ°ä¸€ä¸ªnameedçš„blockï¼Œä¸‹é¢
     è¿™æ ·å†™ï¼Œç›´æ¥è¾“å…¥ =xiepeng= å°±å¯ä»¥è·³è¿‡å»ï¼š
     #+BEGIN_SRC org
       ,#+NAME: xiepeng
       ,#+BEGIN_SRC python :results output :exports both :tangle /tmp/test_from_org_tangle.py
       print 'xiepeng'
       ,#+END_SRC
     #+END_SRC
  2. =org-babel-insert-header-arg= è¿™ä¸ªæ¥æ·»åŠ  =:results= è¿™ç§é€‰é¡¹ï¼ˆå¼€
     å…³ï¼‰å¾ˆæ–¹ä¾¿
  3. =org-babel-view-src-block-info= å¯ä»¥æŸ¥çœ‹å½“å‰blockçš„å¼€å…³ä¿¡æ¯ã€‚

* ivyå’Œhelmçš„å†™æ³•
  #+BEGIN_SRC elisp
    (ivy-read "Pick:" (mapcar #'number-to-string (number-sequence 1 10)))
  #+END_SRC

  å¯¹åº”helmçš„ä»£ç ï¼š
  #+BEGIN_SRC elisp
    (helm
     :sources
     (helm-build-sync-source "one-to-ten"
                             :candidates
                             (mapcar #'number-to-string (number-sequence 1 10))
                             :fuzzy-match t)
     :buffer
     "*helm one-to-ten*")
  #+END_SRC
  æˆ–è€…è¿™æ ·ï¼š
  #+BEGIN_SRC elisp
    (helm-comp-read "Pick:" (mapcar #'number-to-string (number-sequence 1 10)))
  #+END_SRC

* emacsæŠŠè¡Œå·æ·»åŠ åˆ°æ–‡ä»¶ä¸­
  é€‰ä¸­åä½¿ç”¨ =C-x r N(rectangle-number-lines))= å°±å¯ä»¥å•¦ã€‚

* org-mode publishæ—¶å¤ªæ…¢çš„è§£å†³åŠæ³•
  [[http://bastibe.de/2014-05-07-speeding-up-org-publishing.html][å‚è€ƒæ˜¯è¿™ä¸ªåšå®¢]]

  æˆ‘çš„é™æ€blogæ˜¯ä½¿ç”¨orgçš„publishåŠŸèƒ½ç›´æ¥å¯¼å‡ºçš„ã€‚å½“æ–‡ä»¶è¾ƒå¤šçš„æ—¶å€™ï¼Œå®Œæˆ
  å¯¼å‡ºä¸€æ¬¡éœ€è¦æ¶ˆè€—å¤ªå¤šæ—¶é—´ã€‚æœ‰æ—¶ç”šè‡³éƒ½ä¸èƒ½å¯¼å‡ºäº†ã€‚è¿™ä¸ªblogä¸Šï¼Œå…ˆæŸ¥çœ‹ä¸‹
  å¯¼å‡ºçš„æ—¶å€™ä»€ä¹ˆæ“ä½œåœ¨å cpuï¼š
  #+BEGIN_SRC elisp
    (progn (profiler-start 'cpu) (org-publish "blog") (profiler-report))
  #+END_SRC
  ç„¶åå‘ç°ï¼Œå¤§å¤šæ•°æ—¶é—´èŠ±åœ¨ç‰ˆæœ¬æ§åˆ¶ä¸Šäº†ï¼š
  #+BEGIN_EXAMPLE
    Turns out, most of its total run time was spent in functions relating
    to version control (starting with vc-).

    Some package in my configuration set up vc-find-file-hook as part of
    find-file-hook. This means that every time org-publish opens a file,
    Emacs will look for the containing git repository and query its
    status. This takes forever! Worse yet, I don't even use vc-git at
    all. All my git interaction is done through magit.
  #+END_EXAMPLE
  ç»“æœæ˜¯åœ¨ =find-file-hook= ä¸­æœ‰ =vc-find-file-hook= è¿™ä¸ªé’©å­ï¼Œæ¯æ¬¡æ‰“
  å¼€æ–‡ä»¶éƒ½è¦ä½¿ç”¨å»æŸ¥ä¸€ä¸‹gitåº“çš„statusã€‚è€Œè¿™ä¸ªä½œè€…å’Œæˆ‘éƒ½æ²¡æœ‰ä½¿ç”¨
  =vc-git= ï¼Œè€Œæ˜¯ä½¿ç”¨ =magit= æ¥å®Œæˆå’Œgitçš„äº¤äº’ã€‚æ‰€ä»¥ç›´æ¥æŠŠè¿™ä¸ªé’©å­ä»
  =find-file-hook= ä¸­åˆ æ‰ã€‚
  #+BEGIN_SRC elisp
    (remove-hook 'find-file-hooks 'vc-find-file-hook)
  #+END_SRC
  
* bookmark plus
  è¿™ä¸ªç©æ„å¯ä»¥æŠŠw3mçš„é¡µé¢ä¹Ÿå½“æˆbookmarkã€‚ä½†æ˜¯å®ƒè¿˜æ˜¯åšä¸åˆ°ç»™w3mçš„ä¹¦ç­¾åˆ†
  ç±»ã€‚

* elispå‡½æ•°æ ¹æ®æœ‰æ²¡æœ‰æŒ‰ =C-u= æ¥èµ°ä¸åŒçš„æµç¨‹
  #+BEGIN_SRC elisp
    (defun peng-test (arg)
      (interactive "P")
      (if arg
          (message "yes")
        (message "no")))
  #+END_SRC

* å¯åŠ¨åŠ é€Ÿ
  ç¼–è¯‘æ‰€æœ‰ =site-lisp= ç›®å½•ä¸‹çš„ =.el= ï¼š
  #+BEGIN_EXAMPLE
    C-u 0 M-x byte-recompile-directory

    will compile all the .el files in the directory and in all subdirectories below.

    The C-u 0 part is to make it not ask about every .el file that does not have a .elc counterpart.
  #+END_EXAMPLE

* æˆ‘çš„ =cc-mode= 
  +æŸ¥çœ‹ä»£ç ä¸»è¦ä½¿ç”¨ =counsel-gtags, cscope, counsel-rg= ã€‚+

  ç°åœ¨æ¢æˆäº† =cquery(server)= å’Œ =lsp-mode(client)= çš„ç»„åˆå•¦ã€‚

* use exwm
  #+BEGIN_EXAMPLE
    1. Add following lines to your .emacs:
  
       (require 'exwm)
       (require 'exwm-config)
       (exwm-config-default)
   
    2. Link or copy xinitrc (from exwm source directory) to ~/.xinitrc.
  
    3. Start EXWM from a console (e.g. tty1) with
  
       xinit -- vt01
  #+END_EXAMPLE

  =Ctrl + Alt + F1=

  stop X server:
  #+BEGIN_SRC sh
    sudo service lightdm stop
    sudo killall /usr/bin/X
  #+END_SRC
  
  start exwm:
  #+BEGIN_SRC sh
    xinit -- -vt01
  #+END_SRC
* åœ¨elispå‡½æ•°ä¸­ä½¿ç”¨ =C-u=
  ä¸‹é¢è¿™æ®µä»£ç å¯ä»¥å°±å’Œä½¿ç”¨ =C-u= æ¥è°ƒç”¨ =counsel-gtags-update-tags= å®
  ç°åŒæ ·çš„åŠŸèƒ½ï¼š
  #+BEGIN_SRC elisp
    (defun peng-test ()
      (interactive)
      (let (current-prefix-arg)
        (setq current-prefix-arg '(4))
        (call-interactively 'counsel-gtags-update-tags)
        ))
  #+END_SRC
* cscopeå’Œgtagsä¸åŒ…æ‹¬æŸäº›ç›®å½•
  cscopeå’Œgtagséƒ½æ”¯æŒæŒ‡å®šæ–‡ä»¶ã€‚é€‰é¡¹ä¸åŒè€Œå·²ã€‚å…ˆç”¨findæ‰¾å‡ºæ¥ã€‚ç„¶åæŒ‡å®š
  å°±å¯ä»¥äº†ã€‚
  #+BEGIN_SRC sh
find -name '*.[hc]'|grep -v '^./hal'|grep -v '^./third_party'|grep -v '^./linux/' > cscope.files
cscope -b -q -i cscope.files
cat cscope.files|gtags -f -
  #+END_SRC
* ä¸ºorg-modeè‡ªåŠ¨æ·»åŠ ç›®å½•
  [[https://github.com/snosov1/toc-org][readmeåœ¨è¿™é‡Œ]]
  
  ä½¿ç”¨ =toc-org= è¿™ä¸ªåº“ï¼Œå®‰è£…å¥½åï¼ŒåŠ å…¥ä¸‹é¢çš„é…ç½®å°±å¯ä»¥äº†ï¼š
  #+BEGIN_SRC elisp
(if (require 'toc-org nil t)
    (add-hook 'org-mode-hook 'toc-org-enable)
  (warn "toc-org not found"))
  #+END_SRC

  è¿™æ ·ï¼Œæ‰“ä¸Š =:TOC:= æ ‡ç­¾çš„headæ¯æ¬¡ä¿å­˜çš„æ—¶å€™éƒ½ä¼šè‡ªåŠ¨ç”Ÿæˆä»½ç›®å½•äº†ï¼Œä¹Ÿå¯ä»¥æ‰‹åŠ¨è°ƒç”¨ =toc-org-insert-toc= ã€‚æ‰€
  ä»¥åœ¨éœ€è¦æ·»åŠ ç›®å½•çš„åœ°æ–¹ï¼Œå¯ä»¥æä¸€ä¸ªè¿™æ ·çš„headï¼š
  #+BEGIN_SRC org
,* ç›®å½•                                                                  :TOC:
  #+END_SRC

  é»˜è®¤æƒ…å†µä¸‹æ˜¯ç”Ÿæˆçš„å’Œ =github= å…¼å®¹çš„ç›®å½•ï¼Œç±»ä¼¼äºè¿™æ ·ï¼š
  #+BEGIN_EXAMPLE
[[#heading-name]]

  #+END_EXAMPLE
  è¿™æ—¶åœ¨org-modeä¸­ç›´æ¥è·³ï¼Œå¦‚æœæ²¡æœ‰å¯¹åº”çš„ =custom_id= çš„å±æ€§æ˜¯è·³ä¸è¿‡å»çš„ã€‚

  =toc_2_org= ï¼šå¯ä»¥è®¾ç½®ä¸ºorgä¸­å¯ä»¥è·³è¿‡å»çš„linkï¼Œ2è¡¨ç¤ºåªç”Ÿæˆå‰ä¸¤çº§ç›®å½•ã€‚
  ç”Ÿæˆçš„linkç±»ä¼¼è¿™æ ·ï¼š
  #+BEGIN_EXAMPLE
[[*heading-name]]
  #+END_EXAMPLE
* org-mode tangleæ•´ä¸ªhead
  å¯ä»¥åŠ ä¸€ä¸ª =header-args= ï¼Œå€¼å°±æ˜¯å¯¹åº”å†™ =tangle=çš„å€¼ï¼š =:tangle
  xxx.c :mkdirp yes :main no= ï¼š
  #+BEGIN_SRC org :tangle /tmp/test.org
,* test
  :PROPERTIES:
  :header-args: :tangle /tmp/nihaotangle/main.c :mkdirp yes :main no
  :END:

  ,#+BEGIN_SRC C
 printf("xieng"); 
  ,#+END_SRC

  ,#+BEGIN_SRC C
 printf("hi"); 
  ,#+END_SRC
  #+END_SRC
* ç›´æ¥æŸ¥çœ‹infoæ–‡ä»¶
  =C-u M-x info= å°±å¯ä»¥äº†ã€‚
* åœ¨elispä¸­æ¨¡æ‹ŸæŒ‰é”®çš„è¾“å…¥
  #+BEGIN_SRC emacs-lisp
(call-interactively 'compile)
  #+END_SRC
* emacsä¸­çš„é•¿tableå¯¼å‡ºpdfçš„é—®é¢˜
  å¦‚æœä¸€ä¸ªtableå¤ªå®½äº†ï¼Œå¯¼å‡ºæˆpdfæ—¶ä¼šè¶…å‡ºé¡µé¢ã€‚æŠŠå®ƒææˆlongtableå°±å¯ä»¥
  è§£å†³äº†ã€‚è¿™æ ·å¯ä»¥è®¾ç½®æ¯ä¸€åˆ—çš„é•¿åº¦ã€‚
  
  #+ATTR_LATEX: :environment longtable :align |p{5cm}|p{5cm}|p{5cm}|
  |-------------------------------------------------+--------------------------------------------------+-------------------------------------------|
  | åŠŸèƒ½                                            | å‘½ä»¤                                             | è¯´æ˜                                      |
  |-------------------------------------------------+--------------------------------------------------+-------------------------------------------|
  | è¿›å…¥config mode                                 | configure terminal                               |                                           |
  |-------------------------------------------------+--------------------------------------------------+-------------------------------------------|
  | è¿›å…¥interface mode                              | interface <interface-number>                     |                                           |
  |-------------------------------------------------+--------------------------------------------------+-------------------------------------------|
  | é…ç½®ç«¯å£çš„é“¾è·¯ç±»å‹ä¸ºHybridç±»å‹                  | switchport mode hybrid                           | ç¼ºçœæƒ…å†µä¸‹ï¼Œç«¯å£çš„é“¾è·¯ç±»å‹ä¸ºAccessç±»å‹    |
  |-------------------------------------------------+--------------------------------------------------+-------------------------------------------|
  | å…è®¸æŒ‡å®šçš„VLANé€šè¿‡å½“å‰Hybridç«¯å£                | switchport add vlan <vid> [tag \vert untaged]    | ç¼ºçœæƒ…å†µä¸‹ï¼Œæ‰€æœ‰Hybridç«¯å£åªå…è®¸VLAN1é€šè¿‡ |
  |-------------------------------------------------+--------------------------------------------------+-------------------------------------------|
  | ä¸å…è®¸æŒ‡å®šçš„VLANé€šè¿‡å½“å‰Hybridç«¯å£              | switchport remove vlan <vid> [tag \vert untaged] |                                           |
  |-------------------------------------------------+--------------------------------------------------+-------------------------------------------|
  | æŠŠHybridç«¯å£åŠ å…¥default VLANå¹¶è®¾ç½®pvidä¸ºè¾“å…¥vid | switchport default-vlan <vid>                    | ç¼ºçœæƒ…å†µä¸‹ï¼ŒHybridç«¯å£çš„ç¼ºçœVLANä¸ºVLAN 1  |
  |-------------------------------------------------+--------------------------------------------------+-------------------------------------------|
  | æŠŠHybridç«¯å£ä»default VLANä¸­ç§»é™¤å¹¶è®¾ç½®pvidä¸º1   | no switchport default-vlan                       | ç¼ºçœæƒ…å†µä¸‹ï¼ŒHybridç«¯å£çš„ç¼ºçœVLANä¸ºVLAN 1  |
  |-------------------------------------------------+--------------------------------------------------+-------------------------------------------|
   
* org-modeä¸­ä»¥rootç”¨æˆ·æ‰§è¡Œå‘½ä»¤
  ç›´æ¥åœ¨org-modeä¸­å¯ä»¥æ‰§è¡Œblockä¸­çš„å‘½ä»¤ï¼Œç„¶è€Œæœ‰äº›æ—¶å€™æˆ‘éœ€è¦ä½¿ç”¨rootç”¨
  æ¥æ‰§è¡Œï¼Œå¯ä»¥è¿™æ ·å†™ï¼š

  #+BEGIN_SRC org
  ,#+BEGIN_SRC sh :dir /sudo::
apt-get update 
  ,#+END_SRC

  
  #+END_SRC

* eshellä¸­å®šä¹‰alias
  ç›´æ¥å†™å…¥ =eshell-aliases-file= æ–‡ä»¶å°±å¯ä»¥äº†ï¼Œæ¯”å¦‚å½“å‰æˆ‘çš„æ˜¯è¿™äº›ï¼š
  #+BEGIN_EXAMPLE
alias ll ls -al
alias gbr git branch
alias gst git status
alias gck git checkout
  #+END_EXAMPLE
  
* åœ¨emacsä¸­æ‰§è¡Œshellè„šæœ¬
  [[http://ergoemacs.org/emacs/elisp_call_shell_command.html][xahçš„blog]]
  
  #+BEGIN_EXAMPLE
Elisp: Call Shell Command

By Xah Lee. Date: 2018-09-04. Last updated: 2018-09-05.

  ,* shell-command â†’ call a shell command, wait for it to finish.
  ,* shell-command-to-string â†’ call a shell command and get its output

; call a shell command
(shell-command "touch new.txt")

; call a shell command and get its output
(shell-command-to-string "ls")

Call a shell command, but don't wait for it to finish before
continuing, use start-process or start-process-shell-command

;; open files in Linux desktop
(mapc
 (lambda (x)
   (let ((process-connection-type nil))
     (start-process "" nil "xdg-open" x)) )
 filePathList)
  #+END_EXAMPLE
